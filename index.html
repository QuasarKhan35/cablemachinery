<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate="siteTitle">ABZ | Precision Cable Production Machinery (Light Theme)</title>
    <meta name="description" data-translate="metaDescription" content="ABZ is a global leader in robust, high-performance cable production equipment. Discover our solutions in drawing, stranding, and twisting machinery.">
    
    <!-- Favicon (Placeholder) -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22⚙️</text></svg>">

    <!-- Google Fonts: Poppins for a clean, professional look -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <!-- Embedded CSS -->
    <style>
        /* ---------------------------------- */
        /* 1. Design Tokens & Global Styles   */
        /* ---------------------------------- */
        :root {
            --color-bg: #F0F2F5;
            --color-bg-secondary: #FFFFFF;
            --color-text-primary: #1A1D20;
            --color-text-secondary: #3F4144;
            --color-brand-accent: #FF6B00;
            --color-brand-accent-dark: #E05C00;
            --color-border: #DDE1E6;
            --font-primary: 'Poppins', sans-serif;
            --header-height: 80px;
            --topbar-height: 40px;
        }

        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }

        body {
            font-family: var(--font-primary);
            background-color: var(--color-bg);
            color: var(--color-text-secondary);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
        }

        h1, h2, h3 {
            font-weight: 600;
            line-height: 1.2;
            color: var(--color-text-primary);
        }

        h1 { font-size: 3.5rem; }
        h2 { font-size: 2.5rem; margin-bottom: 2rem; text-align: center; }
        h3 { font-size: 1.5rem; }

        a {
            color: var(--color-brand-accent);
            text-decoration: none;
            transition: color 0.3s ease;
        }
        a:hover { color: var(--color-brand-accent-dark); }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }
        
        section {
            padding: 6rem 0;
        }

        /* ---------------------------------- */
        /* 1.A Theme Switcher & Dark Mode   */
        /* ---------------------------------- */
        .theme-toggle-btn {
            background: transparent;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            color: var(--color-text-secondary);
            padding: 0 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: color 0.3s ease;
        }
        .theme-toggle-btn:hover {
            color: var(--color-brand-accent);
        }
        .theme-toggle-btn .fa-sun { display: none; }
        .theme-toggle-btn .fa-moon { display: block; }

        body.dark-mode .theme-toggle-btn .fa-sun { display: block; }
        body.dark-mode .theme-toggle-btn .fa-moon { display: none; }

        /* Dark Mode Variables */
        body.dark-mode {
            --color-bg: #1A1D20;
            --color-bg-secondary: #2C2F33;
            --color-text-primary: #F0F2F5;
            --color-text-secondary: #AAB0B8;
            --color-border: #3F4144;
        }
        
        /* Dark Mode Component Overrides */
        body.dark-mode .sticky-top-bar {
            background-color: rgba(26, 29, 32, 0.9);
        }
        body.dark-mode .main-nav.scrolled {
            background-color: rgba(44, 47, 51, 0.85);
        }
        body.dark-mode .hero-overlay {
            background: rgba(10, 12, 14, 0.7);
        }
        body.dark-mode .map-container {
            background-color: #222528;
        }
        body.dark-mode .map-container .land {
            fill: #2C2F33;
            stroke: var(--color-bg);
        }
        body.dark-mode .trust-strip {
            filter: grayscale(100%) invert(1);
            opacity: 0.8;
        }
        body.dark-mode .product-3d-viewer {
            background: radial-gradient(circle, #3F4144 0%, #1A1D20 90%);
        }
        body.dark-mode .spec-table tbody tr:hover {
            background-color: #3f4144;
        }
        body.dark-mode .design-section {
            background-color: var(--color-bg-secondary);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        body.dark-mode .manager-card {
            background-color: var(--color-bg);
            border: 1px solid var(--color-border);
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }
        body.dark-mode .manager-card:hover {
            border-color: var(--color-brand-accent);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        body.dark-mode .manager-card.active {
            background-color: rgba(255, 107, 0, 0.1);
        }
        body.dark-mode .manager-name {
             color: var(--color-text-primary);
        }
        body.dark-mode .manager-region,
        body.dark-mode .manager-languages {
            color: var(--color-text-secondary);
        }
        body.dark-mode .language-badge {
            background-color: #3F4144;
            color: var(--color-text-primary);
        }
        body.dark-mode .region-select, body.dark-mode .country-select {
            background-color: var(--color-bg-secondary);
            color: var(--color-text-primary);
            border-color: var(--color-border);
        }
        body.dark-mode .rfq-form {
            background-color: var(--color-bg);
        }
        body.dark-mode .form-control, body.dark-mode .form-select {
            background-color: var(--color-bg-secondary);
            color: var(--color-text-primary);
            border-color: var(--color-border);
        }
        body.dark-mode .tab-navigation {
            border-bottom: 1px solid var(--color-border);
        }
        body.dark-mode .tab-btn {
            color: var(--color-text-secondary);
        }
        body.dark-mode .manager-display-container {
            background-color: var(--color-bg-secondary);
            border-color: var(--color-border);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        body.dark-mode .manager-contact-details {
            background-color: var(--color-bg);
        }
        body.dark-mode .manager-contact-block {
            border-color: var(--color-border);
        }
        @media (max-width: 767px) {
            body.dark-mode .manager-contact-block {
                border-color: var(--color-border);
            }
        }
        body.dark-mode .btn-add-contact {
            background-color: #3F4144;
            color: var(--color-text-primary);
        }
        body.dark-mode .btn-add-contact:hover {
            background-color: #4a4d50;
        }
        body.dark-mode .contact-info-main span {
             color: var(--color-text-secondary);
        }
        body.dark-mode .location-map iframe {
            filter: invert(100%) hue-rotate(180deg);
        }
        body.dark-mode .cert-slider-arrow {
            background-color: rgba(44, 47, 51, 0.8);
        }

        /* ---------------------------------- */
        /* 2. Header & Navigation           */
        /* ---------------------------------- */
        .sticky-top-bar {
            background-color: rgba(240, 242, 245, 0.9);
            padding: 0.5rem 1.5rem;
            display: flex;
            justify-content: flex-end;
            align-items: center;
            gap: 1.5rem;
            font-size: 0.8rem;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1001;
            backdrop-filter: blur(5px);
            border-bottom: 1px solid var(--color-border);
        }

        .lang-selector, .top-bar-contact { display: flex; align-items: center; gap: 0.5rem; }
        .lang-selector select { background: transparent; border: none; color: var(--color-text-secondary); font-family: inherit; }
        .lang-selector select:focus { outline: none; }

        .main-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 1.5rem;
            height: var(--header-height);
            position: fixed;
            width: 100%;
            top: var(--topbar-height);
            z-index: 1000;
            transition: background-color 0.3s ease, backdrop-filter 0.3s ease, box-shadow 0.3s ease;
        }

        .main-nav.scrolled {
            background-color: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .logo { font-size: 1.8rem; font-weight: 700; color: var(--color-text-primary); }
        .logo img {
            height: 50px;
            width: auto;
            vertical-align: middle;
        }
        .logo span {
            background: linear-gradient(135deg, var(--color-brand-accent), var(--color-brand-accent-dark));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-links { display: flex; gap: 2rem; list-style: none; }
        .nav-links a { font-weight: 400; padding: 0.5rem 0; position: relative; color: var(--color-text-secondary); }
        .nav-links a:hover { color: var(--color-brand-accent); }
        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--color-brand-accent);
            transition: width 0.3s ease;
        }
        .nav-links a:hover::after { width: 100%; }
        
        .mobile-nav-toggle { display: none; font-size: 1.5rem; cursor: pointer; color: var(--color-text-primary); }

        /* ---------------------------------- */
        /* 3. Buttons & CTAs                */
        /* ---------------------------------- */
        .btn {
            display: inline-block;
            padding: 0.8rem 1.8rem;
            border-radius: 5px;
            font-weight: 600;
            text-align: center;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        .btn-primary {
            background: linear-gradient(135deg, var(--color-brand-accent), var(--color-brand-accent-dark));
            color: #FFFFFF;
        }
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 107, 0, 0.3);
            color: #FFFFFF; /* MODIFICATION: Keep text color white on hover */
        }
        .btn-secondary {
            border: 2px solid var(--color-brand-accent);
            color: var(--color-brand-accent);
        }
        .btn-secondary:hover {
            background-color: var(--color-brand-accent);
            color: #FFFFFF;
        }

        /* ---------------------------------- */
        /* 4. Hero Section                  */
        /* ---------------------------------- */
        #home {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            overflow: hidden;
            padding-top: calc(var(--header-height) + var(--topbar-height));
        }

        #hero-video {
            position: absolute;
            top: 50%;
            left: 50%;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            transform: translateX(-50%) translateY(-50%);
            z-index: -2;
            object-fit: cover;
        }

        .hero-overlay {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(16, 18, 20, 0.6);
            z-index: -1;
        }

        .hero-content { max-width: 800px; animation: fadeIn 1s ease-in-out; }
        .hero-content h1 { margin-bottom: 1rem; color: #FFFFFF; }
        .hero-content p { font-size: 1.2rem; color: #EAEAEA; margin-bottom: 2rem; }
        
        /* ---------------------------------- */
        /* 5. Value Strip Section           */
        /* ---------------------------------- */
        .value-strip {
            background-color: var(--color-bg-secondary);
            padding: 2rem 0;
            border-top: 1px solid var(--color-border);
            border-bottom: 1px solid var(--color-border);
        }
        .value-strip .container {
            display: flex;
            justify-content: space-around;
            align-items: center;
            text-align: center;
        }
        .value-item {
            font-size: 1.2rem;
            color: var(--color-text-secondary);
        }
        .value-item .number {
            display: block;
            font-size: 3rem;
            font-weight: 700;
            color: var(--color-text-primary);
            margin-bottom: 0.2rem;
        }
        .value-item .number span {
            background: linear-gradient(135deg, var(--color-brand-accent), var(--color-brand-accent-dark));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* ---------------------------------- */
        /* 6. Products Section              */
        /* ---------------------------------- */
        #products { background-color: var(--color-bg); }
        .product-filters {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }
        .filter-btn {
            background: transparent;
            border: 1px solid var(--color-border);
            color: var(--color-text-secondary);
            padding: 0.5rem 1.2rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .filter-btn.active, .filter-btn:hover {
            background-color: var(--color-brand-accent);
            border-color: var(--color-brand-accent);
            color: #FFFFFF;
        }
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }
        .product-card {
            background-color: var(--color-bg-secondary);
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid var(--color-border);
        }
        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .product-3d-viewer {
            width: 100%;
            height: 250px;
            background: radial-gradient(circle, #FFFFFF 0%, #F0F2F5 90%);
            cursor: grab;
        }
        .product-info { padding: 1.5rem; }
        .product-info h3 { margin-bottom: 0.5rem; }
        .product-info p { color: var(--color-text-secondary); margin-bottom: 1rem; font-size: 0.9rem; }
        
        /* ---------------------------------- */
        /* 7. Solutions Section             */
        /* ---------------------------------- */
        #solutions { background-color: var(--color-bg-secondary); }
        .solutions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }
        .solution-card {
            background-color: var(--color-bg);
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
            border: 1px solid var(--color-border);
            transition: all 0.3s ease;
        }
        .solution-card:hover {
            border-color: var(--color-brand-accent);
            transform: scale(1.05);
        }
        .solution-icon { font-size: 3rem; margin-bottom: 1rem; color: var(--color-brand-accent); }
        .solution-card h3 { margin-bottom: 1rem; }
        
        /* ---------------------------------- */
        /* 8. Projects/Global Map Section   */
        /* ---------------------------------- */
        #projects { background-color: var(--color-bg); }
        .map-container {
            position: relative;
            max-width: 1000px;
            min-height: 450px; /* Set a min-height for the map */
            margin: 0 auto;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid var(--color-border);
            background-color: #F8F9FA; /* A light background for the map */
        }
        .map-container svg { width: 100%; height: 100%; display: block; }
        .map-container .land { fill: var(--color-border); stroke: #FFFFFF; stroke-width:0.5px; }
        .map-container .dot {
            stroke: rgba(255,255,255,0.7);
            stroke-width:1px;
            cursor:pointer;
        }
        .map-tooltip {
            position:absolute;
            pointer-events:none;
            background:rgba(26, 29, 32, 0.92); /* Use primary text color */
            color:#fff;
            padding:8px 12px;
            font-size:0.8rem;
            border-radius:6px;
            transform:translate(-50%,-120%);
            white-space:nowrap;
            box-shadow:0 6px 18px rgba(0,0,0,0.2);
            opacity:0; transition:opacity 120ms ease, transform 120ms ease;
            z-index:10;
        }
        @keyframes map-pulse {
            0% { r: 0.6; opacity:0.9; transform: scale(1); }
            70% { r: 1.6; opacity:0.0; transform: scale(1.8); }
            100% { r: 1.6; opacity:0.0; transform: scale(1.8); }
        }
        .map-pulse-ring {
            fill: none;
            stroke: var(--color-brand-accent);
            stroke-width: 2;
            opacity: 0.75;
            transform-origin: center;
            animation: map-pulse 1600ms infinite;
        }
        
        /* ---------------------------------- */
        /* 9. About / Factory Section       */
        /* ---------------------------------- */
        #about { background-color: var(--color-bg-secondary); }
        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
        }
        .about-text h3 { margin-bottom: 1rem; }
        .about-video { border-radius: 8px; overflow: hidden; position: relative; }
        .about-video video { width: 100%; display: block; }
        .trust-strip {
            margin-top: 4rem;
            display: flex;
            justify-content: space-around;
            align-items: center;
            filter: grayscale(100%);
            opacity: 0.7;
        }
        .trust-strip img { max-width: 100%; height: auto; }

        /* ---------------------------------- */
        /* 10. News & Exhibitions Section   */
        /* ---------------------------------- */
        #news { background-color: var(--color-bg); padding: 4rem 0; }
        .news-ticker-container {
            overflow: hidden;
            background-color: var(--color-bg-secondary);
            padding: 1.5rem 1.5rem;
            font-size: 1.1rem;
        }
        .news-ticker {
            display: flex;
            white-space: nowrap;
            animation: ticker-scroll 40s linear infinite;
        }
        .news-item { margin-right: 4rem; }
        .news-item .date {
            color: var(--color-brand-accent);
            font-weight: 600;
            margin-right: 1rem;
        }

        /* ---------------------------------- */
        /* 11. Contact & RFQ Section        */
        /* ---------------------------------- */
        #contact { background-color: var(--color-bg-secondary); }
        
        /* ---------------------------------- */
        /* 12. Footer                       */
        /* ---------------------------------- */
        footer {
            background-color: #1A1D20;
            padding: 4rem 0 2rem 0;
            font-size: 0.9rem;
            color: #A0A0A0;
        }
        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }
        .footer-col h4 { margin-bottom: 1rem; color: #FFFFFF; }
        .footer-col .logo { color: #FFFFFF; }
        .footer-col .logo img {
            height: 40px; /* Smaller logo for the footer */
        }
        .footer-col ul { list-style: none; }
        .footer-col li { margin-bottom: 0.5rem; }
        .footer-col a { color: #A0A0A0; }
        .footer-col a:hover { color: var(--color-brand-accent); }
        
        .footer-bottom {
            border-top: 1px solid #3F4144;
            padding-top: 2rem;
            text-align: center;
            color: #A0A0A0;
        }
        .social-links a { margin: 0 0.5rem; font-size: 1.2rem; }

        /* ---------------------------------- */
        /* 13. Animations & Microinteractions */
        /* ---------------------------------- */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        /* NOTE: Original 'pulse' keyframe was replaced by 'map-pulse' to avoid conflicts */
        @keyframes ticker-scroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }
        
        /* Scroll reveal animations */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }
        .reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* ---------------------------------- */
        /* 14. Specification Modal          */
        /* ---------------------------------- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(26, 29, 32, 0.7);
            z-index: 2000;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.4s ease, visibility 0s linear 0.4s;
            backdrop-filter: blur(5px);
        }
        .modal-overlay.visible {
            opacity: 1;
            visibility: visible;
            transition: opacity 0.4s ease;
        }
        .modal-content {
            background-color: var(--color-bg-secondary);
            padding: 2.5rem;
            border-radius: 8px;
            width: 90%;
            max-width: 900px;
            position: relative;
            transform: scale(0.9);
            transition: transform 0.4s ease;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            max-height: 90vh; /* Allow scrolling for long modals */
            overflow-y: auto; /* Allow scrolling for long modals */
        }
        .modal-overlay.visible .modal-content {
            transform: scale(1);
        }
        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            font-size: 2.5rem;
            font-weight: 300;
            color: var(--color-text-secondary);
            cursor: pointer;
            line-height: 1;
            transition: color 0.3s ease;
            z-index: 10;
        }
        .modal-close:hover {
            color: var(--color-brand-accent);
        }
        .modal-content h2 {
            text-align: left;
            margin-bottom: 2rem;
            font-size: 2rem;
        }

        /* Table Styling */
        .table-container {
            overflow-x: auto; /* For responsiveness */
        }
        .spec-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 600px; /* Prevent squishing on small screens */
            font-size: 0.9rem;
        }
        .spec-table th, .spec-table td {
            padding: 1rem;
            text-align: center;
            border: 1px solid var(--color-border);
        }
        .spec-table thead {
            background-color: var(--color-bg);
            color: var(--color-text-primary);
            font-weight: 600;
        }
        .spec-table thead th {
            border-bottom: 2px solid var(--color-brand-accent);
            white-space: nowrap;
        }
        .spec-table tbody tr:nth-child(even) {
            background-color: var(--color-bg);
        }
        .spec-table tbody tr:hover {
            background-color: #e9ecef;
        }
        .spec-table td:first-child {
            font-weight: 600;
            color: var(--color-text-primary);
        }
        
        /* Specific fix for the very wide Tubular Strander table */
        #tubular-spec-modal .spec-table {
            min-width: 1000px; /* Give more space for the 9 columns */
            font-size: 0.85rem; /* Slightly smaller font to help with fit */
        }
        #tubular-spec-modal .spec-table th,
        #tubular-spec-modal .spec-table td {
            padding: 0.8rem; /* Slightly reduce padding */
            white-space: nowrap; /* Prevent headers from wrapping */
        }

        /* ---------------------------------- */
        /* 15. Responsive Design            */
        /* ---------------------------------- */
        @media (max-width: 992px) {
            h1 { font-size: 2.8rem; }
            h2 { font-size: 2rem; }
            .about-content { grid-template-columns: 1fr; }
            .modal-content h2 { font-size: 1.5rem; }
            .spec-table { font-size: 0.8rem; }
            .spec-table th, .spec-table td { padding: 0.8rem; }
        }

        @media (max-width: 768px) {
            :root { --header-height: 70px; --topbar-height: 0;}
            .sticky-top-bar { display: none; }
            .main-nav { top: 0; }
            .nav-links {
                position: fixed;
                top: 70px;
                left: -100%;
                width: 100%;
                height: calc(100vh - 70px);
                background-color: var(--color-bg-secondary);
                flex-direction: column;
                align-items: center;
                justify-content: center;
                gap: 2rem;
                transition: left 0.3s ease-in-out;
            }
            .nav-links.active { left: 0; }
            .mobile-nav-toggle { display: block; z-index: 100; }
            
            .value-strip .container { flex-direction: column; gap: 2rem; }
            section { padding: 4rem 0; }
            .footer-grid { grid-template-columns: 1fr 1fr; }
            .modal-content { padding: 2rem 1.5rem; }
        }
        
        @media (max-width: 480px) {
             h1 { font-size: 2.2rem; }
             .footer-grid { grid-template-columns: 1fr; }
             .map-container { min-height: 300px; }
        }

        /* ---------------------------------- */
        /* 16. New RFQ/Sales Manager Section  */
        /* ---------------------------------- */
        .design-section {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            padding: 30px;
            margin-bottom: 40px;
            transition: all 0.3s ease;
        }
        .design-section:hover {
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        .section-title {
            color: var(--color-text-secondary);
            margin-bottom: 25px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--color-brand-accent);
            font-weight: 600;
        }
        .manager-card {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            cursor: pointer;
            border: 1px solid #eee;
        }
        .manager-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-color: var(--color-brand-accent);
        }
        .manager-card.active {
            border-color: var(--color-brand-accent);
            background-color: #fff8f3;
        }
        .manager-photo {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--color-brand-accent);
            margin-bottom: 15px;
        }
        .manager-name {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--color-text-secondary);
        }
        .manager-region {
            color: #666;
            margin-bottom: 10px;
        }
        .manager-languages {
            font-size: 0.9rem;
            color: #777;
        }
        .language-badge {
            display: inline-block;
            background-color: #e9ecef;
            color: var(--color-text-secondary);
            padding: 3px 8px;
            border-radius: 12px;
            margin: 2px;
            font-size: 0.8rem;
        }
        .region-select, .country-select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-bottom: 20px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        .region-select:focus, .country-select:focus {
            border-color: var(--color-brand-accent);
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 107, 0, 0.2);
        }
        .rfq-form {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 25px;
            margin-top: 20px;
            display: none;
            animation: fadeIn 0.5s ease;
        }
        .rfq-form.active {
            display: block;
        }
        .rfq-form h3 {
            margin-bottom: 30px;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-label {
            font-weight: 500;
            margin-bottom: 10px;
            color: var(--color-text-secondary);
        }
        .form-control, .form-select {
            width: 100%; /* Added for consistency */
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            transition: all 0.3s ease;
            background-color: #fff; /* Added for consistency */
        }
        .form-control:focus, .form-select:focus {
            border-color: var(--color-brand-accent);
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 107, 0, 0.2);
        }
        .form-check {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        .form-check-input {
            margin-right: 10px;
            width: 1.2em;
            height: 1.2em;
        }
        .form-check-label {
            margin-bottom: 0;
            font-weight: normal;
        }
        .btn-submit {
            background-color: var(--color-brand-accent);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .btn-submit:hover {
            background-color: #e55a00;
            transform: translateY(-2px);
        }
        .btn-submit:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            transform: translateY(0);
        }
        .tab-navigation {
            display: flex;
            margin-bottom: 30px;
            border-bottom: 1px solid #eee;
        }
        .tab-btn {
            background: none;
            border: none;
            padding: 12px 20px;
            cursor: pointer;
            font-weight: 500;
            color: #666;
            position: relative;
            transition: all 0.3s ease;
        }
        .tab-btn:hover {
            color: var(--color-brand-accent);
        }
        .tab-btn.active {
            color: var(--color-brand-accent);
        }
        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--color-brand-accent);
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        .manager-info-photo {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--color-brand-accent);
            flex-shrink: 0;
        }
        .manager-info-details {
            flex-grow: 1;
        }
        .manager-contact-details {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 20px;
            margin-top: 30px;
            display: none; /* Initially hidden */
            animation: fadeIn 0.5s ease;
        }
        .manager-contact-details.active {
            display: block;
        }
        .contact-title {
            font-weight: 600;
            color: var(--color-text-secondary);
            margin-bottom: 15px;
            font-size: 1.1rem;
        }
        .contact-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .contact-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
            font-size: 0.95rem;
            padding: 8px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .contact-item:last-child {
            border-bottom: none;
        }
        .contact-item .fab, .contact-item .fas {
            font-size: 1.3em;
            width: 35px;
            text-align: center;
            color: var(--color-brand-accent);
            margin-right: 5px;
        }
        .contact-info-main {
            display: flex;
            align-items: center;
            flex-grow: 1;
        }
        .contact-info-main a {
            color: var(--color-text-primary);
            text-decoration: none;
            transition: all 0.3s ease;
        }
        .contact-info-main a:hover {
            color: var(--color-brand-accent);
            text-decoration: underline;
        }
        .contact-info-main span {
            margin-left: 5px;
            color: #6c757d;
        }
        .contact-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .qr-icon {
            font-size: 1.4rem;
            color: #888;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .qr-icon:hover {
            color: var(--color-brand-accent);
            transform: scale(1.1);
        }
        .btn-add-contact {
            background-color: #e9ecef;
            color: var(--color-text-secondary);
            border: none;
            padding: 6px 12px;
            border-radius: 5px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        .btn-add-contact:hover {
            background-color: #d8dee4;
            color: var(--color-text-primary);
        }
        .manager-display-container {
            display: none;
            animation: fadeIn 0.5s ease;
            margin-bottom: 30px;
            background-color: #fff;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.06);
        }
        .manager-display-container.active {
            display: block;
        }
        .manager-info-block {
            display: flex;
            align-items: flex-start; /* Aligns photo top with text top */
            gap: 20px;
        }
        .manager-contact-block {
            border-left: 1px solid #eee;
            padding-left: 25px;
        }
        .notification {
            position: fixed; top: 20px; right: 20px; background-color: #4caf50; /* Success green */
            color: white; padding: 15px 20px; border-radius: 5px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2); transform: translateX(150%);
            transition: transform 0.3s ease, background-color 0.3s ease; z-index: 3000;
        }
        .notification.show { transform: translateX(0); }
        .notification.sending { background-color: #2196F3; } /* Sending blue */
        .notification.error { background-color: #f44336; } /* Error red */

        /* Simple grid system for the new RFQ form */
        .rfq-form .row, #design1 .row { display: flex; flex-wrap: wrap; margin-right: -15px; margin-left: -15px;}
        .manager-display-container .row { display: flex; flex-wrap: wrap; margin-right: -15px; margin-left: -15px; align-items: center; }
        .rfq-form .col-md-6, .manager-display-container .col-lg-6, #design1 .col-md-6, #design1 .col-lg-4 { position: relative; width: 100%; padding-right: 15px; padding-left: 15px; }
        .input-group { position: relative; display: flex; flex-wrap: wrap; align-items: stretch; width: 100%; }
        .input-group > .form-select { position: relative; flex: 1 1 auto; width: 1%; min-width: 0; }
        .input-group > .form-control { position: relative; flex: 1 1 auto; width: 1%; min-width: 0; }

        @media (min-width: 768px) {
            .rfq-form .col-md-6, #design1 .col-md-6 { flex: 0 0 50%; max-width: 50%; }
            .manager-card { text-align: left; }
            .manager-photo { margin: 0 0 15px; }
            .tab-navigation { flex-wrap: nowrap; }
            .tab-btn { flex: 0 1 auto; }
            .contact-item { flex-direction: row; align-items: center; gap: 0; }
            .contact-actions { width: auto; justify-content: flex-end; }
        }
        @media (min-width: 992px) {
            .manager-display-container .col-lg-6 { flex: 0 0 50%; max-width: 50%; }
            #design1 .col-lg-4 { flex: 0 0 33.333333%; max-width: 33.333333%; }
            .manager-info-block { flex-direction: row; align-items: flex-start; text-align: left; margin-bottom: 0; }
            .manager-contact-block { border-left: 1px solid #eee; padding-left: 25px; border-top: none; padding-top: 0; }
        }
        @media (max-width: 767px) {
             .manager-card { text-align: center; }
            .manager-photo { margin: 0 auto 15px; }
            .tab-navigation { flex-wrap: wrap; }
            .tab-btn { flex: 1 1 50%; }
            .contact-item { flex-direction: column; align-items: flex-start; gap: 10px; }
            .contact-actions { width: 100%; justify-content: flex-start; }
            .manager-info-block { flex-direction: column; align-items: center; text-align: center; margin-bottom: 25px; }
            .manager-contact-block { border-left: none; padding-left: 0; border-top: 1px solid #eee; padding-top: 25px; }
        }
        
        /* ---------------------------------- */
        /* 17. QR Code Modal                */
        /* ---------------------------------- */
        .qr-modal-content {
            background-color: var(--color-bg-secondary);
            padding: 2.5rem;
            border-radius: 12px;
            width: 90%;
            max-width: 380px;
            position: relative;
            transform: scale(0.9);
            transition: transform 0.4s ease;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            text-align: center;
        }
        .modal-overlay.visible .qr-modal-content {
            transform: scale(1);
        }
        #qr-modal-image {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0 auto 1.5rem auto;
            border-radius: 8px;
        }
        #qr-modal-text {
            font-size: 1rem;
            color: var(--color-text-secondary);
            line-height: 1.4;
        }

        /* ---------------------------------- */
        /* 18. Certificates Section (NEW)   */
        /* ---------------------------------- */
        #certificates { background-color: var(--color-bg); }
        .cert-slider-wrapper {
            position: relative;
            margin: 0 auto;
            max-width: 1200px;
            padding: 0 50px; /* Space for arrows */
        }
        .cert-slider-container {
            overflow: hidden;
        }
        .cert-slider-track {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        .cert-slide {
            flex: 0 0 25%; /* Show 4 slides on large screens */
            padding: 0 1rem;
            box-sizing: border-box;
        }
        .cert-card {
            background-color: var(--color-bg-secondary);
            border-radius: 8px;
            border: 1px solid var(--color-border);
            padding: 1rem;
            text-align: center;
            transition: all 0.3s ease;
            height: 100%;
        }
        .cert-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.08);
        }
        .cert-image-container {
            height: 300px;
            margin-bottom: 1rem;
            background-color: #f8f9fa;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
        }
        .cert-card img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        .cert-card figcaption {
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--color-text-primary);
        }
        .cert-card .cert-title-cn {
            font-size: 0.8rem;
            color: var(--color-text-secondary);
            display: block;
            margin-top: 4px;
        }
        .cert-slider-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(255, 255, 255, 0.8);
            border: 1px solid var(--color-border);
            color: var(--color-text-primary);
            width: 45px;
            height: 45px;
            border-radius: 50%;
            font-size: 1.2rem;
            cursor: pointer;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .cert-slider-arrow:hover {
            background-color: var(--color-brand-accent);
            color: #fff;
            border-color: var(--color-brand-accent);
        }
        .cert-slider-arrow.prev { left: 0; }
        .cert-slider-arrow.next { right: 0; }

        @media (max-width: 1200px) {
            .cert-slide { flex-basis: 33.33%; } /* 3 slides */
        }
        @media (max-width: 992px) {
            .cert-slide { flex-basis: 50%; } /* 2 slides */
        }
        @media (max-width: 600px) {
            .cert-slide { flex-basis: 100%; } /* 1 slide */
            .cert-slider-wrapper { padding: 0 40px; }
            .cert-slider-arrow { width: 35px; height: 35px; font-size: 1rem; }
        }

        /* ---------------------------------- */
        /* 19. Locations Section (NEW)      */
        /* ---------------------------------- */
        #locations {
            background-color: var(--color-bg);
        }
        .locations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 2.5rem;
            margin-top: 3rem;
        }
        .location-card {
            background-color: var(--color-bg-secondary);
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid var(--color-border);
            display: flex;
            flex-direction: column;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .location-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .location-map {
            width: 100%;
            height: 300px; /* Fixed height for consistency */
            background-color: #e9ecef;
        }
        .location-map iframe {
            width: 100%;
            height: 100%;
            border: 0;
        }
        .location-info {
            padding: 2rem;
        }
        .location-info h3 {
            font-size: 1.5rem;
            color: var(--color-text-primary);
            margin-bottom: 0.5rem;
        }
        .location-info .location-type {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--color-brand-accent);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 1rem;
        }
        .location-contact-list {
            list-style: none;
            padding: 0;
            margin: 1.5rem 0;
        }
        .location-contact-list li {
            display: flex;
            align-items: flex-start;
            margin-bottom: 1rem;
            color: var(--color-text-secondary);
        }
        .location-contact-list i {
            font-size: 1.1rem;
            color: var(--color-brand-accent);
            margin-right: 1rem;
            margin-top: 4px; /* Align icon better with multi-line text */
            width: 20px;
            text-align: center;
        }
        .location-info .btn {
            margin-top: 1rem;
        }

        @media (max-width: 500px) {
            .locations-grid {
                grid-template-columns: 1fr;
            }
            .location-info {
                padding: 1.5rem;
            }
        }

        /* ---------------------------------- */
        /* 20. Media Gallery (in Modal)     */
        /* ---------------------------------- */
        .media-gallery {
            margin-bottom: 2.5rem;
        }
        .gallery-main-view {
            position: relative;
            width: 100%;
            padding-top: 56.25%; /* 16:9 Aspect Ratio */
            background-color: #f0f2f5;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid var(--color-border);
        }
        .gallery-main-view img,
        .gallery-main-view video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain;
            display: none; /* Hide both by default */
        }
        .gallery-main-view img.active,
        .gallery-main-view video.active {
            display: block;
        }
        .gallery-zoom-icon {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 40px;
            height: 40px;
            background-color: rgba(26, 29, 32, 0.6);
            color: #fff;
            border-radius: 50%;
            display: none; /* Hidden by default */
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
            z-index: 5;
        }
        .gallery-zoom-icon:hover {
            background-color: var(--color-brand-accent);
        }
        .gallery-main-view .gallery-main-image.active ~ .gallery-zoom-icon {
            display: flex; /* Show only for active images */
        }
        .gallery-thumbnails {
            display: flex;
            gap: 10px;
            margin-top: 1rem;
            overflow-x: auto;
            padding-bottom: 10px; /* For scrollbar */
            -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
        }
        .gallery-thumb {
            flex: 0 0 100px; /* Flex-shrink, flex-grow, flex-basis */
            height: 75px;
            border-radius: 6px;
            overflow: hidden;
            cursor: pointer;
            border: 2px solid transparent;
            transition: border-color 0.3s ease;
            position: relative;
            background-color: #e9ecef;
        }
        .gallery-thumb img, 
        .gallery-thumb video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .gallery-thumb.active {
            border-color: var(--color-brand-accent);
        }
        .gallery-thumb .play-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.5rem;
            pointer-events: none;
            text-shadow: 0 0 5px rgba(0,0,0,0.5);
        }
        /* Lightbox styles */
        .lightbox-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.85);
            z-index: 3000;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease;
            backdrop-filter: blur(5px);
        }
        .lightbox-overlay.visible {
            opacity: 1;
            visibility: visible;
        }
        .lightbox-image {
            max-width: 90vw;
            max-height: 90vh;
            object-fit: contain;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }
        .lightbox-overlay.visible .lightbox-image {
            transform: scale(1);
        }
        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 30px;
            font-size: 3rem;
            color: #fff;
            cursor: pointer;
            font-weight: 300;
        }
    </style>
</head>
<body>

    <!-- ======================= -->
    <!-- 1. HEADER & NAVIGATION  -->
    <!-- ======================= -->
    <header>
        <div class="sticky-top-bar">
            <button id="theme-toggle" class="theme-toggle-btn" title="Toggle Theme">
                <i class="fas fa-moon"></i>
                <i class="fas fa-sun"></i>
            </button>
            <div class="lang-selector">
                <i class="fas fa-globe"></i>
                <select name="language" id="language-select">
                    <option value="bn">বাংলা (Bangla)</option>
                    <option value="en">English</option>
                    <option value="de">Deutsch</option>
                    <option value="ar">العربية (Arabic)</option>
                    <option value="pt">Português</option>
                    <option value="es">Español</option>
                    <option value="tr">Türkçe</option>
                </select>
            </div>
            <div class="top-bar-contact">
                <i class="fas fa-phone"></i>
                <span>+86-21-5085-0515</span>
            </div>
            <a href="#contact" class="btn-secondary" style="padding: 0.3rem 0.8rem; font-size: 0.8rem;" data-translate="topBarFindRep">Find Local Rep</a>
        </div>

        <nav class="main-nav" id="main-nav">
            <a href="#home" class="logo"><img src="media/abz.png" alt="ABZ Logo"></a>
            <ul class="nav-links" id="nav-links">
                <li><a href="#home" data-translate="navHome">Home</a></li>
                <li><a href="#products" data-translate="navProducts">Products</a></li>
                <li><a href="#solutions" data-translate="navSolutions">Solutions</a></li>
                <li><a href="#projects" data-translate="navProjects">Projects</a></li>
                <li><a href="#about" data-translate="navAbout">About</a></li>
                <li><a href="#contact" data-translate="navContact">Contact</a></li>
            </ul>
            <a href="#contact" class="btn btn-primary nav-cta" data-translate="navRequestQuote">Request Quote</a>
            <div class="mobile-nav-toggle" id="mobile-nav-toggle">
                <i class="fas fa-bars"></i>
            </div>
        </nav>
    </header>

    <main>

        <!-- ======================= -->
        <!-- 2. HERO SECTION         -->
        <!-- ======================= -->
        <section id="home">
            <video autoplay muted loop playsinline id="hero-video" poster="https://images.pexels.com/photos/416405/pexels-photo-416405.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2">
                <source src="media/ABZ_English.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="hero-overlay"></div>
            <div class="hero-content container">
                <h1 data-translate="heroTitle">Precision in Motion. Powering Global Connectivity.</h1>
                <p data-translate="heroSubtitle">ABZ delivers robust, high-performance cable production machinery, engineered for reliability and a connected future.</p>
                <div>
                    <a href="#contact" class="btn btn-primary" data-translate="heroBtnQuote">Request a Quote</a>
                    <a href="#contact" class="btn btn-secondary" data-translate="heroBtnDemo">Book a Demo</a>
                </div>
            </div>
        </section>

        <!-- ======================= -->
        <!-- 3. ANIMATED VALUE STRIP -->
        <!-- ======================= -->
        <div class="value-strip">
            <div class="container">
                <div class="value-item reveal">
                    <div class="number"><span class="counter" data-target="20000">0</span>m²</div>
                    <span data-translate="valueStrip1">Manufacturing Facility</span>
                </div>
                <div class="value-item reveal">
                    <div class="number"><span class="counter" data-target="25">0</span>+</div>
                    <span data-translate="valueStrip2">Years of Industry Experience</span>
                </div>
                <div class="value-item reveal">
                    <div class="number"><span class="counter" data-target="1500">0</span>+</div>
                    <span data-translate="valueStrip3">Global Installations</span>
                </div>
                 <div class="value-item reveal">
                    <div class="number"><span>CN</span></div>
                    <span data-translate="valueStrip4">Engineered & Made in China</span>
                </div>
            </div>
        </div>

        <!-- ======================= -->
        <!-- 8. NEWS TICKER          -->
        <!-- ======================= -->
        <section id="news">
            <div class="news-ticker-container reveal">
                <div class="news-ticker">
                    <!-- Repeat items for a seamless loop -->
                    <div class="news-item"><span class="date">OCT 2024</span> <span data-translate="news1">Wire Düsseldorf 2024 - Visit us at Hall 9, Booth C-05.</span></div>
                    <div class="news-item"><span class="date">SEP 2024</span> <span data-translate="news2">ABZ launches new high-speed bunching series for automotive applications.</span></div>
                    <div class="news-item"><span class="date">JUL 2024</span> <span data-translate="news3">Successful installation of a full turnkey plant in Mexico.</span></div>
                    <div class="news-item"><span class="date">JUN 2024</span> <span data-translate="news4">We've achieved ISO 14001 certification for environmental management.</span></div>
                     <div class="news-item"><span class="date">OCT 2024</span> <span data-translate="news1_clone">Wire Düsseldorf 2024 - Visit us at Hall 9, Booth C-05.</span></div>
                    <div class="news-item"><span class="date">SEP 2024</span> <span data-translate="news2_clone">ABZ launches new high-speed bunching series for automotive applications.</span></div>
                    <div class="news-item"><span class="date">JUL 2024</span> <span data-translate="news3_clone">Successful installation of a full turnkey plant in Mexico.</span></div>
                    <div class="news-item"><span class="date">JUN 2024</span> <span data-translate="news4_clone">We've achieved ISO 14001 certification for environmental management.</span></div>
                </div>
            </div>
        </section>

        <!-- ======================= -->
        <!-- 4. PRODUCTS SECTION     -->
        <!-- ======================= -->
        <section id="products">
            <div class="container">
                <h2 class="reveal" data-translate="productsHeader">Our Core Machinery</h2>
                <div class="product-filters reveal">
                    <button class="filter-btn active" data-filter="all" data-translate="filterAll">All</button>
                    <button class="filter-btn" data-filter="drawing" data-translate="filterDrawing">Drawing</button>
                    <button class="filter-btn" data-filter="stranding" data-translate="filterStranding">Stranding</button>
                    <button class="filter-btn" data-filter="twisting" data-translate="filterTwisting">Twisting</button>
                    <button class="filter-btn" data-filter="bunching" data-translate="filterBunching">Bunching</button>
                    <button class="filter-btn" data-filter="taping" data-translate="filterTaping">Taping</button>
                </div>
                <div class="product-grid">
                    <div class="product-card reveal" data-category="drawing">
                        <video src="media/bunching/thumb.mp4" autoplay muted loop playsinline poster="media/bunching/thumb.png" style="width:100%; height:250px; object-fit:cover; background-color: #f0f2f5;"></video>
                        <div class="product-info">
                            <h3 data-translate="product1Title">Rod Breakdown Drawing Line</h3>
                            <p data-translate="product1Desc">Non-slip drawing for single/dual copper wires with separate motor control.</p>
                            <a href="#" data-modal-target="#rod-breakdown-spec-modal" class="btn btn-secondary" data-translate="productBtnSpec">View Specification</a>
                        </div>
                    </div>
                    <div class="product-card reveal" data-category="stranding">
                        <video src="media/planetary-strander/thumb.mp4" autoplay muted loop playsinline poster="media/planetary-strander/thumb.png" style="width:100%; height:250px; object-fit:cover; background-color: #f0f2f5;"></video>
                        <div class="product-info">
                            <h3 data-translate="product2Title">Planetary Strander (Big Bearing)</h3>
                            <p data-translate="product2Desc">Two-ends supporting model with electronic synchronous stranding function.</p>
                            <a href="#" data-modal-target="#planetary-big-bearing-spec-modal" class="btn btn-secondary" data-translate="productBtnSpec_clone1">View Specification</a>
                        </div>
                    </div>
                    <div class="product-card reveal" data-category="stranding">
                        <video src="media/rigid-frame/thumb.mp4" autoplay muted loop playsinline poster="media/rigid-frame/thumb.png" style="width:100%; height:250px; object-fit:cover; background-color: #f0f2f5;"></video>
                        <div class="product-info">
                            <h3 data-translate="product3Title">Rigid Frame Stranding Machine</h3>
                            <p data-translate="product3Desc">High-speed, large cross-section stranding for power cables and conductors.</p>
                            <a href="#" data-modal-target="#rigid-spec-modal" class="btn btn-secondary" data-translate="productBtnSpec_clone2">View Specification</a>
                        </div>
                    </div>
                    <div class="product-card reveal" data-category="stranding">
                        <video src="media/tubular-stranding/thumb.mp4" autoplay muted loop playsinline poster="media/tubular-stranding/thumb.png" style="width:100%; height:250px; object-fit:cover; background-color: #f0f2f5;"></video>
                        <div class="product-info">
                            <h3 data-translate="product4Title">High Speed Tubular Stranding Machine</h3>
                            <p data-translate="product4Desc">Ideal for high-speed stranding of copper, aluminum, and steel wires.</p>
                            <a href="#" data-modal-target="#tubular-spec-modal" class="btn btn-secondary" data-translate="productBtnSpec_clone3">View Specification</a>
                        </div>
                    </div>
                    <div class="product-card reveal" data-category="stranding">
                        <video src="media/cradle-type-laying-up/thumb.mp4" autoplay muted loop playsinline poster="media/cradle-type-laying-up/thumb.png" style="width:100%; height:250px; object-fit:cover; background-color: #f0f2f5;"></video>
                        <div class="product-info">
                            <h3 data-translate="product5Title">Cradle-type Laying up Machine</h3>
                            <p data-translate="product5Desc">For laying up large cross-section power cables with independent motor control.</p>
                            <a href="#" data-modal-target="#cradle-laying-up-spec-modal" class="btn btn-secondary" data-translate="productBtnSpec_clone4">View Specification</a>
                        </div>
                    </div>
                    <div class="product-card reveal" data-category="stranding">
                        <video src="media/bow-type-laying-up/thumb.mp4" autoplay muted loop playsinline poster="media/bow-type-laying-up/thumb.png" style="width:100%; height:250px; object-fit:cover; background-color: #f0f2f5;"></video>
                        <div class="product-info">
                            <h3 data-translate="product6Title">Bow Type Laying Up Machine</h3>
                            <p data-translate="product6Desc">For laying up insulated cores and forming multi-core cables with precision.</p>
                            <a href="#" data-modal-target="#bow-type-spec-modal" class="btn btn-secondary" data-translate="productBtnSpec_clone5">View Specification</a>
                        </div>
                    </div>
                    <div class="product-card reveal" data-category="taping">
                        <video src="media/copper-tape-screening/thumb.mp4" autoplay muted loop playsinline poster="media/copper-tape-screening/thumb.png" style="width:100%; height:250px; object-fit:cover; background-color: #f0f2f5;"></video>
                        <div class="product-info">
                            <h3 data-translate="product7Title">Copper Tape Screening Machine</h3>
                            <p data-translate="product7Desc">High-speed, precision copper tape application for cable shielding.</p>
                            <a href="#" data-modal-target="#copper-tape-spec-modal" class="btn btn-secondary" data-translate="productBtnSpec_clone6">View Specification</a>
                        </div>
                    </div>
                    <div class="product-card reveal" data-category="twisting">
                        <video src="media/double-twist-bunching/thumb.mp4" autoplay muted loop playsinline poster="media/double-twist-bunching/thumb.png" style="width:100%; height:250px; object-fit:cover; background-color: #f0f2f5;"></video>
                        <div class="product-info">
                            <h3 data-translate="product8Title">Double Twist Bunching Machine</h3>
                            <p data-translate="product8Desc">High-speed, precision twisting for fine wires and specialized cables (Model TW630).</p>
                            <a href="#" data-modal-target="#double-twist-buncher-tw630-spec-modal" class="btn btn-secondary" data-translate="productBtnSpec_clone7">View Specification</a>
                        </div>
                    </div>
                    <div class="product-card reveal" data-category="twisting">
                        <video src="media/drum-twister/thumb.mp4" autoplay muted loop playsinline poster="media/drum-twister/thumb.png" style="width:100%; height:250px; object-fit:cover; background-color: #f0f2f5;"></video>
                        <div class="product-info">
                            <h3 data-translate="product9Title">Drum Twister Cabling/Armoring Machine</h3>
                            <p data-translate="product9Desc">CKP Type for power cable cabling and steel wire/tape armoring.</p>
                            <a href="#" data-modal-target="#drum-twister-spec-modal" class="btn btn-secondary" data-translate="productBtnSpec_clone8">View Specification</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ======================= -->
        <!-- 5. SOLUTIONS SECTION    -->
        <!-- ======================= -->
        <section id="solutions">
            <div class="container">
                <h2 class="reveal" data-translate="solutionsHeader">Solutions by Industry</h2>
                <div class="solutions-grid">
                    <div class="solution-card reveal">
                        <div class="solution-icon"><i class="fas fa-bolt"></i></div>
                        <h3 data-translate="solution1Title">Power Cable</h3>
                        <p data-translate="solution1Desc">Complete lines for low, medium, and high-voltage power transmission cables.</p>
                        <a href="#" data-translate="solutionBtnCaseStudy">See Case Study &rarr;</a>
                    </div>
                    <div class="solution-card reveal">
                        <div class="solution-icon"><i class="fas fa-wifi"></i></div>
                        <h3 data-translate="solution2Title">Telecom & Data</h3>
                        <p data-translate="solution2Desc">Precision equipment for data, coaxial, and fiber optic cable manufacturing.</p>
                        <a href="#" data-translate="solutionBtnCaseStudy_clone1">See Case Study &rarr;</a>
                    </div>
                    <div class="solution-card reveal">
                        <div class="solution-icon"><i class="fas fa-car"></i></div>
                        <h3 data-translate="solution3Title">Automotive Wire</h3>
                        <p data-translate="solution3Desc">High-speed, reliable machinery for the demanding automotive sector.</p>
                        <a href="#" data-translate="solutionBtnCaseStudy_clone2">See Case Study &rarr;</a>
                    </div>
                    <div class="solution-card reveal">
                        <div class="solution-icon"><i class="fas fa-microchip"></i></div>
                        <h3 data-translate="solution4Title">Special Cables</h3>
                        <p data-translate="solution4Desc">Customized solutions for aerospace, medical, and industrial applications.</p>
                        <a href="#" data-translate="solutionBtnCaseStudy_clone3">See Case Study &rarr;</a>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- ============================= -->
        <!-- 6. GLOBAL PROJECTS SECTION    -->
        <!-- ============================= -->
        <section id="projects">
            <div class="container">
                <h2 class="reveal" data-translate="projectsHeader">Our Global Footprint</h2>
                <p class="reveal" style="text-align:center; max-width: 600px; margin: -1rem auto 3rem auto; color: var(--color-text-secondary);" data-translate="projectsSubheader">Trusted by industry leaders across continents. Hover over a point for details. Drag to pan and scroll to zoom.</p>
                <!-- START: New Interactive Map -->
                <div class="map-container reveal" id="interactive-map">
                    <div class="map-tooltip" id="map-tooltip"></div>
                    <!-- SVG will be injected by the new script -->
                </div>
                <!-- END: New Interactive Map -->
            </div>
        </section>

        <!-- ======================= -->
        <!-- 7. ABOUT SECTION        -->
        <!-- ======================= -->
        <section id="about">
            <div class="container">
                <h2 class="reveal" data-translate="aboutHeader">Engineering Excellence, Global Trust</h2>
                <div class="about-content">
                    <div class="about-text reveal">
                        <h3 data-translate="aboutSubheader1">20,000m² State-of-the-Art Factory</h3>
                        <p data-translate="aboutSubheader2">Our ISO 901 certified facility integrates R&D, precision machining, and assembly under one roof. We leverage advanced CNC centers and rigorous quality control to translate heavy engineering into sleek, high-performance machinery. Every ABZ machine is a testament to our commitment to quality, durability, and innovation.</p>
                        <p style="margin-top:1rem;" data-translate="aboutSubheader3">Made in China, trusted by the world.</p>
                    </div>
                    <div class="about-video reveal">
                        <video id="factory-video" loop muted playsinline poster="https://images.pexels.com/photos/3183186/pexels-photo-3183186.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2">
                            <source src="media/1.mp4" type="video/mp4">
                        </video>
                    </div>
                </div>
                <div class="trust-strip reveal">
                    <img src="media/customerlist.png" alt="List of ABZ Global Customers">
                </div>
            </div>
        </section>

        <!-- =================================== -->
        <!-- NEW CERTIFICATES SECTION            -->
        <!-- =================================== -->
        <section id="certificates">
            <div class="container">
                <h2 class="reveal" data-translate="certificatesHeader">Our Credentials & Awards</h2>
                <div class="cert-slider-wrapper reveal">
                    <div class="cert-slider-container">
                        <div class="cert-slider-track">
                            <!-- Certificate Slides will be dynamically added here -->
                        </div>
                    </div>
                    <button class="cert-slider-arrow prev"><i class="fas fa-chevron-left"></i></button>
                    <button class="cert-slider-arrow next"><i class="fas fa-chevron-right"></i></button>
                </div>
            </div>
        </section>


        <!-- ======================= -->
        <!-- 9. CONTACT & RFQ FORM   -->
        <!-- ======================= -->
        <section id="contact">
            <div class="container">
                <h2 class="reveal" data-translate="contactHeader">Contact Your Regional Manager</h2>

                <div class="tab-navigation">
                    <button class="tab-btn active" data-tab="design1" data-translate="tabSelectManager">Select Manager</button>
                    <button class="tab-btn" data-tab="design2" data-translate="tabSelectRegion">Select Region</button>
                    <button class="tab-btn" data-tab="design3" data-translate="tabSelectCountry">Select Country</button>
                </div>
                
                <!-- DESIGN 1 -->
                <div id="design1" class="tab-content active">
                    <div class="design-section">
                        <h3 class="section-title" style="font-size: 1.5rem; text-align: left;" data-translate="contactSectionTitle1">Please select your manager depending on your area</h3>
                        
                        <div class="row">
                            <div class="col-md-6 col-lg-4">
                                <div class="manager-card" data-manager="amanda">
                                    <img src="media/amanda.png" alt="Amanda" class="manager-photo">
                                    <div class="manager-name">Amanda</div>
                                    <div class="manager-region" data-translate="managerRegionAmanda">Sales Manager - North & South America</div>
                                    <div class="manager-languages">
                                        <span class="language-badge">English</span>
                                        <span class="language-badge">Chinese</span>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 col-lg-4">
                                <div class="manager-card" data-manager="emily">
                                    <img src="media/emily.png" alt="Emily" class="manager-photo">
                                    <div class="manager-name">Emily</div>
                                    <div class="manager-region" data-translate="managerRegionEmily">Sales Manager - Europe, South Korea & Southeast Asia</div>
                                    <div class="manager-languages">
                                        <span class="language-badge">English</span>
                                        <span class="language-badge">Chinese</span>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 col-lg-4">
                                <div class="manager-card" data-manager="caleb">
                                    <img src="media/caleb.png" alt="Caleb" class="manager-photo">
                                    <div class="manager-name">Caleb</div>
                                    <div class="manager-region" data-translate="managerRegionCaleb">Sales Manager - Africa</div>
                                    <div class="manager-languages">
                                        <span class="language-badge">English</span>
                                        <span class="language-badge">Chinese</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-6 col-lg-4">
                                <div class="manager-card" data-manager="sefa">
                                    <img src="media/sefa.png" alt="Sefa" class="manager-photo">
                                    <div class="manager-name">Sefa</div>
                                    <div class="manager-region" data-translate="managerRegionSefa">Sales Manager - Türkiye & Middle East</div>
                                    <div class="manager-languages">
                                        <span class="language-badge">Turkish</span>
                                        <span class="language-badge">English</span>
                                        <span class="language-badge">Central Asian Languages</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-6 col-lg-4">
                                <div class="manager-card" data-manager="anika">
                                    <img src="media/anika.png" alt="Anika" class="manager-photo">
                                    <div class="manager-name">Anika</div>
                                    <div class="manager-region" data-translate="managerRegionAnika">Sales Manager - South Asia</div>
                                    <div class="manager-languages">
                                        <span class="language-badge">Bangla</span>
                                        <span class="language-badge">English</span>
                                        <span class="language-badge">Chinese</span>
                                        <span class="language-badge">Hindi</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="contact-details-design1" class="manager-contact-details"></div>
                    </div>
                </div>
                
                <!-- DESIGN 2 -->
                <div id="design2" class="tab-content">
                    <div class="design-section">
                        <h3 class="section-title" style="font-size: 1.5rem; text-align: left;" data-translate="contactSectionTitle2">Please select your region</h3>
                        
                        <select class="region-select" id="region-select">
                            <option value="" data-translate="regionSelectDefault">-- Select Region --</option>
                            <option value="americas" data-translate="regionAmericas">North & South America</option>
                            <option value="europe" data-translate="regionEuropeAsia">Europe, South Korea & Southeast Asia</option>
                            <option value="africa" data-translate="regionAfrica">Africa</option>
                            <option value="turkiye-middle-east" data-translate="regionTurkiyeME">Türkiye & Middle East</option>
                            <option value="south-asia" data-translate="regionSouthAsia">South Asia</option>
                        </select>
                        
                        <div id="manager-display-container-design2" class="manager-display-container">
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="manager-info-block">
                                        <img id="manager-photo-design2" src="" alt="Manager" class="manager-info-photo">
                                        <div id="manager-details-design2" class="manager-info-details"></div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div id="manager-contact-design2" class="manager-contact-block"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- DESIGN 3 -->
                <div id="design3" class="tab-content">
                    <div class="design-section">
                        <h3 class="section-title" style="font-size: 1.5rem; text-align: left;" data-translate="contactSectionTitle3">Please select your country</h3>
                        
                        <select class="country-select" id="country-select">
                            <option value="" data-translate="countrySelectDefault">-- Select Country --</option>
                            <optgroup label="North & South America"><option value="americas">United States</option><option value="americas">Canada</option><option value="americas">Mexico</option><option value="americas">Brazil</option><option value="americas">Argentina</option><option value="americas">Chile</option><option value="americas">Colombia</option><option value="americas">Peru</option></optgroup>
                            <optgroup label="Europe, South Korea & Southeast Asia"><option value="europe">United Kingdom</option><option value="europe">Germany</option><option value="europe">France</option><option value="europe">Italy</option><option value="europe">Spain</option><option value="europe">Netherlands</option><option value="europe">Sweden</option><option value="europe">Poland</option><option value="europe">South Korea</option><option value="europe">Thailand</option><option value="europe">Vietnam</option><option value="europe">Malaysia</option><option value="europe">Singapore</option><option value="europe">Indonesia</option><option value="europe">Philippines</option></optgroup>
                            <optgroup label="Africa"><option value="africa">South Africa</option><option value="africa">Nigeria</option><option value="africa">Kenya</option><option value="africa">Egypt</option><option value="africa">Morocco</option><option value="africa">Ghana</option><option value="africa">Tanzania</option><option value="africa">Uganda</option></optgroup>
                            <optgroup label="Türkiye & Middle East"><option value="turkiye-middle-east">Türkiye</option><option value="turkiye-middle-east">United Arab Emirates</option><option value="turkiye-middle-east">Saudi Arabia</option><option value="turkiye-middle-east">Iran</option><option value="turkiye-middle-east">Iraq</option><option value="turkiye-middle-east">Israel</option><option value="turkiye-middle-east">Jordan</option></optgroup>
                            <optgroup label="South Asia"><option value="south-asia">Bangladesh</option><option value="south-asia">India</option></optgroup>
                        </select>
                        
                        <div id="manager-display-container-design3" class="manager-display-container">
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="manager-info-block">
                                        <img id="manager-photo-design3" src="" alt="Manager" class="manager-info-photo">
                                        <div id="manager-details-design3" class="manager-info-details"></div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div id="manager-contact-design3" class="manager-contact-block"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- =================================== -->
                <!-- NEW: RFQ Forms Container            -->
                <!-- =================================== -->
                <div id="rfq-forms-container">
                    <!-- This function generates the form structure for a given manager -->
                    <script>
                        // FIX: Changed from document.write() to a function that returns an HTML string.
                        function createRfqForm(managerKey, managerEmail, managerName) {
                            return `
                                <form id="rfq-form-${managerKey}" class="rfq-form" action="https://api.web3forms.com/submit" method="POST">
                                    <!-- Web3Forms settings -->
                                    <input type="hidden" name="access_key" value="24f33952-c97d-45fe-90c4-599e18b37e6b">
                                    <input type="hidden" name="subject" value="New ABZ Machinery RFQ">
                                    <input type="hidden" name="from_name" value="ABZ Website RFQ">
                                    <input type="hidden" name="Sales Manager Contacted" value="${managerName} (${managerEmail})">

                                    <h3 class="mb-4" data-translate-dynamic="rfqFormTitle" data-manager-name="${managerName}">Request for Quotation to ${managerName}</h3>
                                    <div class="row">
                                        <div class="col-md-6"><div class="form-group"><label class="form-label" for="firstname-${managerKey}" data-translate="formFirstName">First Name</label><input type="text" id="firstname-${managerKey}" name="first_name" class="form-control" required></div></div>
                                        <div class="col-md-6"><div class="form-group"><label class="form-label" for="lastname-${managerKey}" data-translate="formLastName">Last Name</label><input type="text" id="lastname-${managerKey}" name="last_name" class="form-control" required></div></div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6"><div class="form-group"><label class="form-label" for="company-${managerKey}" data-translate="formCompany">Company</label><input type="text" id="company-${managerKey}" name="company" class="form-control company-name-input" required></div></div>
                                        <div class="col-md-6"><div class="form-group"><label class="form-label" for="city-${managerKey}" data-translate="formCity">City</label><input type="text" id="city-${managerKey}" name="city" class="form-control"></div></div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6"><div class="form-group"><label class="form-label" for="email-${managerKey}" data-translate="formEmail">Email</label><input type="email" id="email-${managerKey}" name="email" class="form-control" required></div></div>
                                        <div class="col-md-6"><div class="form-group"><label class="form-label" for="contact-method-${managerKey}" data-translate="formPreferredContact">Preferred Contact</label><div class="input-group"><select id="contact-method-${managerKey}" name="contact_method" class="form-select" style="max-width: 120px;" aria-label="Contact method"><option selected>WhatsApp</option><option>WeChat</option></select><input type="text" name="contact_id" class="form-control" data-translate-placeholder="formContactIDPlaceholder" placeholder="Your Number or ID" aria-label="Contact Details"></div></div></div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label" data-translate="formInterestedProducts">Interested Product(s)</label>
                                        <div class="product-selection">
                                            <div class="form-check"><input class="form-check-input" type="checkbox" name="product[]" value="Rod Breakdown Drawing Line" id="prod-${managerKey}-1"><label class="form-check-label" for="prod-${managerKey}-1" data-translate="product1Title_form">Rod Breakdown Drawing Line</label></div>
                                            <div class="form-check"><input class="form-check-input" type="checkbox" name="product[]" value="Planetary Strander (Big Bearing)" id="prod-${managerKey}-2"><label class="form-check-label" for="prod-${managerKey}-2" data-translate="product2Title_form">Planetary Strander (Big Bearing)</label></div>
                                            <div class="form-check"><input class="form-check-input" type="checkbox" name="product[]" value="Rigid Frame Stranding Machine" id="prod-${managerKey}-3"><label class="form-check-label" for="prod-${managerKey}-3" data-translate="product3Title_form">Rigid Frame Stranding Machine</label></div>
                                            <div class="form-check"><input class="form-check-input" type="checkbox" name="product[]" value="High Speed Tubular Stranding Machine" id="prod-${managerKey}-4"><label class="form-check-label" for="prod-${managerKey}-4" data-translate="product4Title_form">High Speed Tubular Stranding Machine</label></div>
                                            <div class="form-check"><input class="form-check-input" type="checkbox" name="product[]" value="Cradle-type Laying up Machine" id="prod-${managerKey}-5"><label class="form-check-label" for="prod-${managerKey}-5" data-translate="product5Title_form">Cradle-type Laying up Machine</label></div>
                                            <div class="form-check"><input class="form-check-input" type="checkbox" name="product[]" value="Bow Type Laying Up Machine" id="prod-${managerKey}-6"><label class="form-check-label" for="prod-${managerKey}-6" data-translate="product6Title_form">Bow Type Laying Up Machine</label></div>
                                            <div class="form-check"><input class="form-check-input" type="checkbox" name="product[]" value="Copper Tape Screening Machine" id="prod-${managerKey}-7"><label class="form-check-label" for="prod-${managerKey}-7" data-translate="product7Title_form">Copper Tape Screening Machine</label></div>
                                            <div class="form-check"><input class="form-check-input" type="checkbox" name="product[]" value="Double Twist Bunching Machine" id="prod-${managerKey}-8"><label class="form-check-label" for="prod-${managerKey}-8" data-translate="product8Title_form">Double Twist Bunching Machine</label></div>
                                            <div class="form-check"><input class="form-check-input" type="checkbox" name="product[]" value="Drum Twister Cabling/Armoring Machine" id="prod-${managerKey}-9"><label class="form-check-label" for="prod-${managerKey}-9" data-translate="product9Title_form">Drum Twister Cabling/Armoring Machine</label></div>
                                            <div class="form-check"><input class="form-check-input" type="checkbox" name="product[]" value="Other" id="prod-${managerKey}-10"><label class="form-check-label" for="prod-${managerKey}-10" data-translate="formOtherProduct">Other</label></div>
                                        </div>
                                    </div>
                                    <div class="form-group"><label class="form-label" for="message-${managerKey}" data-translate="formMessage">Message</label><textarea id="message-${managerKey}" name="message" class="form-control" rows="4"></textarea></div>
                                    <button type="submit" class="btn-submit" data-translate="formSubmitBtn">Send Quick RFQ</button>
                                </form>
                            `;
                        }
                    </script>
                </div>
            </div>
        </section>

        <!-- =================================== -->
        <!-- 10. LOCATIONS SECTION (NEW)         -->
        <!-- =================================== -->
        <section id="locations">
            <div class="container">
                <h2 class="reveal" data-translate="locationsHeader">Our Locations</h2>
                <p class="reveal" style="text-align:center; max-width: 600px; margin: -1rem auto 3rem auto; color: var(--color-text-secondary);" data-translate="locationsSubheader">Our global presence is supported by our state-of-the-art facilities.</p>

                <div class="locations-grid">
                    <!-- Shanghai HQ -->
                    <div class="location-card reveal">
                        <div class="location-map">
                            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d13649.522961556042!2d121.49257639019672!3d31.225571216834076!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x35b271317133f815%3A0x234917f69273c528!2sLujiazui%2C%20Pudong%2C%20Shanghai%2C%20China!5e0!3m2!1sen!2sus!4v1672345678901!5m2!1sen!2sus" width="600" height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" title="Map of Shanghai Headquarters"></iframe>
                        </div>
                        <div class="location-info">
                            <div class="location-type" data-translate="location1Type">Headquarters</div>
                            <h3 data-translate="location1Name">Shanghai Office</h3>
                            <ul class="location-contact-list">
                                <li>
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>Room 315, Building No.3, Lujiazui Financial Block, Pudong Area, Shanghai, China</span>
                                </li>
                                <li>
                                    <i class="fas fa-phone"></i>
                                    <a href="tel:+862150850515">+86-21-5085-0515</a>
                                </li>
                                <li>
                                    <i class="fas fa-envelope"></i>
                                    <a href="mailto:info@abz-sh.com">info@abz-sh.com</a>
                                </li>
                            </ul>
                            <a href="https://www.google.com/maps/search/?api=1&query=Room+315,+Building+No.3,+Lujiazui+Financial+Block,+Pudong+Area,+Shanghai,+China" target="_blank" class="btn btn-secondary" data-translate="locationBtnDirections">Get Directions</a>
                        </div>
                    </div>

                    <!-- Changzhou Factory -->
                    <div class="location-card reveal">
                        <div class="location-map">
                           <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3434.9080775916325!2d119.46740687618684!3d31.67750837424571!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x35b43725593c6179%3A0x6b772076046e7f86!2sNo.%2089%2C%20Dongcun%20East%20Road%2C%20Jintan%20District%2C%20Changzhou%2C%20Jiangsu%2C%20China!5e0!3m2!1sen!2sus!4v1672345678902!5m2!1sen!2sus" width="600" height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" title="Map of Changzhou Manufacturing Facility"></iframe>
                        </div>
                        <div class="location-info">
                             <div class="location-type" data-translate="location2Type">Manufacturing Facility</div>
                            <h3 data-translate="location2Name">Changzhou Factory</h3>
                             <ul class="location-contact-list">
                                <li>
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>No.89 East Dongcun Road, Jintan District, Changzhou City, Jiangsu Province, China</span>
                                </li>
                                <li>
                                    <i class="fas fa-phone"></i>
                                    <a href="tel:+8651982820515">+86-519-8282-0515</a>
                                </li>
                                <li>
                                    <i class="fas fa-envelope"></i>
                                    <a href="mailto:info@abz-sh.com">info@abz-sh.com</a>
                                </li>
                            </ul>
                            <a href="https://www.google.com/maps/search/?api=1&query=No.89+East+Dongcun+Road,+Jintan+District,+Changzhou+City,+Jiangsu+Province,+China" target="_blank" class="btn btn-secondary" data-translate="locationBtnDirections_clone">Get Directions</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- ======================= -->
    <!-- 10. FOOTER              -->
    <!-- ======================= -->
    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h4 class="logo"><img src="media/abz.png" alt="ABZ Logo"></h4>
                    <p data-translate="heroTitle_footer">Precision in Motion. Powering Global Connectivity.</p>
                </div>
                <div class="footer-col">
                    <h4 data-translate="footerQuickLinks">Quick Links</h4>
                    <ul>
                        <li><a href="#products" data-translate="navProducts_footer">Products</a></li>
                        <li><a href="#solutions" data-translate="navSolutions_footer">Solutions</a></li>
                        <li><a href="#about" data-translate="navAbout_footer">About Us</a></li>
                        <li><a href="#news" data-translate="footerNews">News & Exhibitions</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4 data-translate="footerSupport">Support</h4>
                    <ul>
                        <li><a href="#contact" data-translate="navContact_footer">Contact Us</a></li>
                        <li><a href="#" data-translate="footerService">Service & Spare Parts</a></li>
                        <li><a href="#" data-translate="footerDownloads">Downloads</a></li>
                        <li><a href="#" data-translate="topBarFindRep_footer">Find a Local Rep</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4 data-translate="footerConnect">Connect</h4>
                    <div class="social-links">
                        <a href="https://www.linkedin.com/company/abz-cable-machinery" target="_blank" rel="noopener noreferrer"><i class="fab fa-linkedin"></i></a>
                        <a href="https://www.facebook.com/abzcablemachinery" target="_blank" rel="noopener noreferrer"><i class="fab fa-facebook"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                &copy; <span id="year"></span> ABZ Machinery Co., Ltd. <span data-translate="footerCopyright">All Rights Reserved.</span> | <a href="#" data-translate="footerPrivacy">Privacy Policy</a> | <a href="#" data-translate="footerLegal">Legal</a>
            </div>
        </div>
    </footer>

    <!-- ======================= -->
    <!-- 11. SPECIFICATION MODAL -->
    <!-- ======================= -->
    <div id="spec-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>High-Speed Bunching Machine</h2>
            <div class="table-container">
                <table class="spec-table">
                    <thead>
                        <tr>
                            <th rowspan="2">Bobbin Size (mm)</th>
                            <th colspan="5">Max Rotate Speed (rpm)</th>
                            <th colspan="2">Wire Diameter (mm)</th>
                        </tr>
                        <tr>
                            <th>6B</th>
                            <th>12B</th>
                            <th>18B</th>
                            <th>24B</th>
                            <th>30B</th>
                            <th>Aluminum</th>
                            <th>Copper</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>630</td>
                            <td>300</td>
                            <td>265</td>
                            <td>235</td>
                            <td>210</td>
                            <td>195</td>
                            <td>1.7-5.0</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td>250</td>
                            <td>215</td>
                            <td>185</td>
                            <td>160</td>
                            <td>135</td>
                            <td>1.7-5.0</td>
                            <td>1.2-5.0</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- NEW MODAL FOR RIGID FRAME STRANDER -->
    <div id="rigid-spec-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>JLK630/710 High Speed Rigid Frame Stranding Machine</h2>
            
            <div class="media-gallery">
                <div class="gallery-main-view">
                    <img src="" alt="Rigid Frame Stranding Machine Media" class="gallery-main-image">
                    <video src="" class="gallery-main-video" controls playsinline></video>
                    <div class="gallery-zoom-icon"><i class="fas fa-search-plus"></i></div>
                </div>
                <div class="gallery-thumbnails"></div>
            </div>
            <h3 style="margin-top: 2.5rem; margin-bottom: 1.5rem; font-size: 1.5rem; text-align: left; border-bottom: 2px solid var(--color-border); padding-bottom: 0.5rem;">Technical Specifications</h3>

            <div class="table-container">
                <table class="spec-table">
                    <thead>
                        <tr>
                            <th rowspan="2">ITEM</th>
                            <th rowspan="2">Parameter</th>
                            <th colspan="2">6 Bobbins</th>
                            <th colspan="2">12 Bobbins</th>
                            <th colspan="2">18 Bobbins</th>
                            <th colspan="2">24 Bobbins</th>
                            <th colspan="2">30 Bobbins</th>
                        </tr>
                        <tr>
                            <th>630</th>
                            <th>710</th>
                            <th>630</th>
                            <th>710</th>
                            <th>630</th>
                            <th>710</th>
                            <th>630</th>
                            <th>710</th>
                            <th>630</th>
                            <th>710</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Max. Rotating Speed of Stranding Cage</td>
                            <td>(r/min)</td>
                            <td>250</td>
                            <td>210</td>
                            <td>230</td>
                            <td>190</td>
                            <td>195</td>
                            <td>165</td>
                            <td>175</td>
                            <td>155</td>
                            <td>150</td>
                            <td>130</td>
                        </tr>
                        <tr>
                            <td rowspan="2">Stranding Single Wire Diameter (ø mm)</td>
                            <td>Al Wire</td>
                            <td colspan="10">1.8-5.0</td>
                        </tr>
                        <tr>
                            <td>Copper Wire</td>
                            <td colspan="10">1.5-4.5</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- NEW MODAL FOR BIG BEARING PLANETARY STRANDER -->
    <div id="planetary-big-bearing-spec-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>Planetary Stranding Machine (Big Bearing, Two Ends Supporting)</h2>
            <p style="margin-top: -1.5rem; margin-bottom: 1.5rem; font-size: 0.9rem;">Remark: Special electronic synchronous stranding function.</p>
            
            <div class="media-gallery">
                <div class="gallery-main-view">
                    <img src="" alt="Planetary Strander Media" class="gallery-main-image">
                    <video src="" class="gallery-main-video" controls playsinline></video>
                    <div class="gallery-zoom-icon"><i class="fas fa-search-plus"></i></div>
                </div>
                <div class="gallery-thumbnails"></div>
            </div>

            <h3 style="margin-top: 2.5rem; margin-bottom: 1.5rem; font-size: 1.5rem; text-align: left; border-bottom: 2px solid var(--color-border); padding-bottom: 0.5rem;">Technical Specifications</h3>
            <div class="table-container">
                <table class="spec-table">
                    <thead>
                        <tr>
                            <th>Bobbin Size (mm)</th>
                            <th>Max Rotating Speed (r/min)*</th>
                            <th>Conductor Diameter (mm)</th>
                            <th>Insulated Wire Diameter (mm)</th>
                            <th>Stranded Pitch</th>
                            <th>Pay off Tension</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>300</td>
                            <td>150 / 130 / 110 / 110</td>
                            <td>Ø0.6-Ø2.5mm</td>
                            <td>Ø0.5-Ø4mm</td>
                            <td>Mechanical</td>
                            <td>Hysteresis</td>
                        </tr>
                        <tr>
                            <td>400</td>
                            <td>125 / 110 / 100 / 90</td>
                            <td>Ø1.0-Ø3.5mm</td>
                            <td>Ø1.0-Ø5.0mm</td>
                            <td>Electronic Pitch</td>
                            <td>Hysteresis / Motorized Pay Off</td>
                        </tr>
                        <tr>
                            <td>500</td>
                            <td>110 / 100 / 90 / 80</td>
                            <td>Ø1.2-Ø5.0mm</td>
                            <td>Ø1.5-Ø8.0mm</td>
                            <td>Electronic Pitch</td>
                            <td>Hysteresis / Motorized Pay Off</td>
                        </tr>
                        <tr>
                            <td>630</td>
                            <td>100 / 90 / 80 / 70</td>
                            <td>Ø1.5-Ø6.0mm</td>
                            <td>Ø2.0-Ø10.0mm</td>
                            <td>Electronic Pitch</td>
                            <td>Hysteresis / Motorized Pay Off</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <p style="text-align: right; margin-top: 1rem; font-size: 0.85rem; color: var(--color-text-secondary);">
                *Speeds correspond to 6, 12, 18, and 24 Bobbin configurations respectively.
            </p>
        </div>
    </div>
    <!-- Lightbox overlay for gallery zoom -->
    <div id="gallery-lightbox" class="lightbox-overlay">
        <span class="lightbox-close">&times;</span>
        <img class="lightbox-image" src="" alt="Zoomed image">
    </div>


    <!-- NEW MODAL FOR TUBULAR STRANDER -->
    <div id="tubular-spec-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>High Speed Tubular Stranding Machine</h2>
            <p style="margin-top: -1.5rem; margin-bottom: 1.5rem; font-size: 0.9rem;">Model Series: JGG</p>
            
            <div class="media-gallery">
                <div class="gallery-main-view">
                    <img src="" alt="High Speed Tubular Stranding Machine Media" class="gallery-main-image">
                    <video src="" class="gallery-main-video" controls playsinline></video>
                    <div class="gallery-zoom-icon"><i class="fas fa-search-plus"></i></div>
                </div>
                <div class="gallery-thumbnails"></div>
            </div>
            <h3 style="margin-top: 2.5rem; margin-bottom: 1.5rem; font-size: 1.5rem; text-align: left; border-bottom: 2px solid var(--color-border); padding-bottom: 0.5rem;">Technical Specifications</h3>

            <div class="table-container">
                <table class="spec-table">
                    <thead>
                        <tr>
                            <th>ITEM</th>
                            <th>G200/1+6</th>
                            <th>G300/1+6</th>
                            <th>G400/1+6</th>
                            <th>G500/1+6</th>
                            <th>G630/1+6</th>
                            <th>G800/1+6</th>
                            <th>G800/1+12</th>
                            <th>G1250/1+12</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>Center Pay Off Bobbin</td><td>ø 200</td><td>ø 300</td><td>ø 400</td><td>ø 500</td><td>ø 630</td><td>ø 800</td><td>ø 800</td><td>ø 1250</td></tr>
                        <tr><td>Bobbin Inside Tube</td><td>ø 200</td><td>ø 300</td><td>ø 400</td><td>ø 500</td><td>ø 630</td><td>ø 800</td><td>ø 560</td><td>ø 630</td></tr>
                        <tr><td>Single Wire Diameter</td><td>0.16-0.20</td><td>0.5-1.5</td><td>0.7-2.5</td><td>1.2-4.0</td><td>1.3-5.0</td><td>1.8-5.0</td><td>1.3-3.6</td><td>1.5-5.0</td></tr>
                        <tr><td>Stranded Conductor Diameter</td><td>0.6</td><td>4.5</td><td>7.5</td><td>12</td><td>15</td><td>15</td><td>15</td><td>25</td></tr>
                        <tr><td>Tube Rotating Speed</td><td>1800rpm</td><td>1200rpm</td><td>700rpm</td><td>650rpm</td><td>600rpm</td><td>420rpm</td><td>580rpm</td><td>360rpm</td></tr>
                        <tr><td>Main Motor Power</td><td>18.5Kw</td><td>18.5Kw</td><td>22Kw</td><td>45Kw</td><td>45Kw</td><td>75Kw</td><td>110Kw</td><td>110Kw</td></tr>
                        <tr><td>Capstan Motor Power</td><td>0.75Kw</td><td>1.5Kw</td><td>3Kw</td><td>15Kw</td><td>22Kw</td><td>30Kw</td><td>37Kw</td><td>45Kw</td></tr>
                        <tr><td>Capstan Wheel Diameter</td><td>160</td><td>300</td><td>500</td><td>1000</td><td>1000</td><td>1000</td><td>1000</td><td>1600</td></tr>
                        <tr><td>Take Up Bobbin</td><td>ø 300-560</td><td>ø 500-630</td><td>ø 560-800</td><td>ø 500-1000</td><td>ø 800-1600</td><td>ø 1000-2000</td><td>ø 800-1600</td><td>ø 1000-2000</td></tr>
                        <tr><td>Bearing Stand Structure</td><td colspan="8">Integrated Type</td></tr>
                        <tr><td>Pay off Tension</td><td>Mechanical/Swing Rod</td><td colspan="2">Magnetic Hysteresis</td><td colspan="2">Mechanical/Magnetic Power/Magnetic Hysteresis</td><td colspan="2">Magnetic Power/Magnetic Hysteresis</td><td>Mechanical/Magnetic Power/Magnetic Hysteresis</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- NEW MODAL FOR DRUM TWISTER -->
    <div id="drum-twister-spec-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>CKP Type Drum Twister Cabling/Armoring Machine</h2>
            
            <div class="media-gallery">
                <div class="gallery-main-view">
                    <img src="" alt="Drum Twister Media" class="gallery-main-image">
                    <video src="" class="gallery-main-video" controls playsinline></video>
                    <div class="gallery-zoom-icon"><i class="fas fa-search-plus"></i></div>
                </div>
                <div class="gallery-thumbnails"></div>
            </div>
            <h3 style="margin-top: 2.5rem; margin-bottom: 1.5rem; font-size: 1.5rem; text-align: left; border-bottom: 2px solid var(--color-border); padding-bottom: 0.5rem;">Technical Specifications</h3>

            <p style="margin-top: -1.5rem; margin-bottom: 1.5rem; font-size: 0.9rem;">Main Technical Parameters</p>
            <div class="table-container">
                <table class="spec-table">
                    <thead>
                        <tr>
                            <th>Bobbin Size (mm)</th>
                            <th>Max Rotating Speed (r/min)</th>
                            <th>Max Stranded Diameter (mm)</th>
                            <th>Single Diameter (mm)</th>
                            <th>Max Capacity (T)</th>
                            <th>Max Loading Weight (T)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>2000</td><td>50</td><td>100</td><td>&lt;35</td><td>4</td><td>10</td></tr>
                        <tr><td>2500</td><td>40</td><td>120</td><td>&lt;40</td><td>4</td><td>15</td></tr>
                        <tr><td>3150</td><td>35</td><td>150</td><td>&lt;60</td><td>6</td><td>20</td></tr>
                        <tr><td>3600</td><td>25</td><td>150</td><td>&lt;60</td><td>6</td><td>28</td></tr>
                        <tr><td>4000</td><td>25</td><td>150</td><td>&lt;60</td><td>6</td><td>30</td></tr>
                        <tr><td>4200</td><td>25</td><td>150</td><td>&lt;60</td><td>6</td><td>30</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- NEW MODAL FOR CRADLE-TYPE LAYING UP MACHINE -->
    <div id="cradle-laying-up-spec-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>Cradle-type Laying up Machine (separate motors)</h2>
            
            <div class="media-gallery">
                <div class="gallery-main-view">
                    <img src="" alt="Cradle-type Laying up Machine Media" class="gallery-main-image">
                    <video src="" class="gallery-main-video" controls playsinline></video>
                    <div class="gallery-zoom-icon"><i class="fas fa-search-plus"></i></div>
                </div>
                <div class="gallery-thumbnails"></div>
            </div>
            <h3 style="margin-top: 2.5rem; margin-bottom: 1.5rem; font-size: 1.5rem; text-align: left; border-bottom: 2px solid var(--color-border); padding-bottom: 0.5rem;">Technical Specifications</h3>

            <p style="margin-top: -1.5rem; margin-bottom: 1.5rem; font-size: 0.9rem;">Main Technical Parameters</p>
            <div class="table-container">
                <table class="spec-table">
                    <thead>
                        <tr>
                            <th rowspan="2">Model</th>
                            <th rowspan="2">Bobbin Size (mm)</th>
                            <th colspan="4">Max Rotating Speed (r/min)</th>
                            <th rowspan="2">Single Diameter (mm)</th>
                            <th rowspan="2">Stranded Pitch (mm)</th>
                        </tr>
                        <tr>
                            <th>3B</th>
                            <th>1+3B</th>
                            <th>6B</th>
                            <th>1+6B</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1000</td>
                            <td>1000</td>
                            <td>60</td>
                            <td>60</td>
                            <td>45</td>
                            <td>50</td>
                            <td>Ø5.0-Ø20.0mm</td>
                            <td>Electronic Pitch</td>
                        </tr>
                        <tr>
                            <td>1250</td>
                            <td>1250</td>
                            <td>50</td>
                            <td>50</td>
                            <td>35</td>
                            <td>40</td>
                            <td>Ø6.0-Ø25.0mm</td>
                            <td>Electronic Pitch</td>
                        </tr>
                        <tr>
                            <td>1600</td>
                            <td>1600</td>
                            <td>40</td>
                            <td>40</td>
                            <td>25</td>
                            <td>30</td>
                            <td>Ø10.0-Ø35.0mm</td>
                            <td>Electronic Pitch</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- NEW MODAL FOR COPPER TAPE SCREENING MACHINE -->
    <div id="copper-tape-spec-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>Copper Tape Screening Machine</h2>
            <p style="margin-top: -1.5rem; margin-bottom: 1.5rem; font-size: 0.9rem;">Model: 600 (separate motors)</p>

            <div class="media-gallery">
                <div class="gallery-main-view">
                    <img src="" alt="Copper Tape Screening Machine Media" class="gallery-main-image">
                    <video src="" class="gallery-main-video" controls playsinline></video>
                    <div class="gallery-zoom-icon"><i class="fas fa-search-plus"></i></div>
                </div>
                <div class="gallery-thumbnails"></div>
            </div>
            <h3 style="margin-top: 2.5rem; margin-bottom: 1.5rem; font-size: 1.5rem; text-align: left; border-bottom: 2px solid var(--color-border); padding-bottom: 0.5rem;">Technical Specifications</h3>
            
            <div class="table-container">
                <table class="spec-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>Pay-off Bobbin (mm)</td><td>1600-3150</td></tr>
                        <tr><td>Copper tape max rotation speed (r/min)</td><td>600</td></tr>
                        <tr><td>Tape width (mm)</td><td>10-90</td></tr>
                        <tr><td>Wire OD (mm)</td><td>15-120</td></tr>
                        <tr><td>Stranding pitch (mm)</td><td>Electronic pitch</td></tr>
                        <tr><td>Caterpillar traction (KG)</td><td>2000kg</td></tr>
                        <tr><td>Take-up Bobbin (mm)</td><td>1600-3150</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- NEW MODAL FOR ROD BREAKDOWN MACHINE -->
    <div id="rod-breakdown-spec-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>LFD450/13 Non Slip Type Rod Breakdown Machine for Single/Dual Copper Wires with Separate Motor</h2>
            
            <div class="media-gallery">
                <div class="gallery-main-view">
                    <img src="" alt="Rod Breakdown Machine Media" class="gallery-main-image">
                    <video src="" class="gallery-main-video" controls playsinline></video>
                    <div class="gallery-zoom-icon"><i class="fas fa-search-plus"></i></div>
                </div>
                <div class="gallery-thumbnails"></div>
            </div>
            <h3 style="margin-top: 2.5rem; margin-bottom: 1.5rem; font-size: 1.5rem; text-align: left; border-bottom: 2px solid var(--color-border); padding-bottom: 0.5rem;">Technical Specifications</h3>
            
            <div class="table-container">
                <table class="spec-table">
                    <thead>
                        <tr>
                            <th>ITEM</th>
                            <th>LFD450/13 (single wire)</th>
                            <th>LFD450/13/2 (dual wires)</th>
                            <th>LFD450/11 (single wire)</th>
                            <th>LFD450/11/2 (dual wires)</th>
                            <th>LFD450/9 (single wire)</th>
                            <th>LFD450/9/2 (dual wires)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>Max. Number of Drawing Die</td><td>13</td><td>13</td><td>11</td><td>11</td><td>9</td><td>9</td></tr>
                        <tr><td>Inlet Wire Diameter</td><td>Copper Rod Ø8.0 (250N/mm²)</td><td>Copper Rod Ø8.0 (250N/mm²)</td><td>Copper Rod Ø8.0 (250N/mm²)</td><td>Copper Rod Ø8.0 (250N/mm²)</td><td>Copper Rod Ø8.0 (250N/mm²)</td><td>Copper Rod Ø8.0 (250N/mm²)</td></tr>
                        <tr><td>Finished Wire Diameter</td><td>Ø 1.2-3.5 mm</td><td>2 × Ø 1.2-3.5 mm <br> 1 × Ø 1.2-4.5 mm</td><td>Ø 1.5-3.5 mm</td><td>2 × Ø 1.5-3.5 mm <br> 1 × Ø 1.5-4.5 mm</td><td>Ø 2.0-3.5 mm</td><td>2 × Ø 2.0-3.5 mm <br> 1 × Ø 2.0-4.5 mm</td></tr>
                        <tr><td>Max. Linear Speed m/s</td><td>30</td><td>30</td><td>25</td><td>25</td><td>20</td><td>20</td></tr>
                        <tr><td>Drawing Capstan Diameter</td><td>450 mm</td><td>450 mm</td><td>450 mm</td><td>450 mm</td><td>450 mm</td><td>450 mm</td></tr>
                        <tr><td>Main Motor Power Kw</td><td>AC 37Kw × 12</td><td>AC 75Kw × 12</td><td>AC 37Kw × 10</td><td>AC 75Kw × 10</td><td>AC 37Kw × 8</td><td>AC 75Kw × 8</td></tr>
                        <tr><td>Final Capstan Motor Power Kw</td><td>AC 75Kw</td><td>AC 90Kw</td><td>AC 75Kw</td><td>AC 90Kw</td><td>AC 75Kw</td><td>AC 90Kw</td></tr>
                        <tr><td>Annealing Power</td><td>Max. 55V <br> Max. 4300A <br> AC 283Kw</td><td>Max. 55V <br> Max. 8000A <br> AC 586Kw</td><td>Max. 55V <br> Max. 4300A <br> AC 283Kw</td><td>Max. 55V <br> Max. 8000A <br> AC 586Kw</td><td>Max. 55V <br> Max. 4300A <br> AC 283Kw</td><td>Max. 55V <br> Max. 8000A <br> AC 586Kw</td></tr>
                        <tr><td>Total Power Kw</td><td>980</td><td>1720</td><td>890</td><td>1570</td><td>800</td><td>1420</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    
    <!-- NEW MODAL FOR DOUBLE TWIST BUNCHING MACHINE TW630 -->
    <div id="double-twist-buncher-tw630-spec-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>Double Twist Bunching Machine (Model: TW630)</h2>
            <p style="margin-top: -1.5rem; margin-bottom: 1.5rem; font-size: 0.9rem;">Main Technical Parameters</p>
            
            <div class="media-gallery">
                <div class="gallery-main-view">
                    <img src="" alt="Double Twist Bunching Machine Media" class="gallery-main-image">
                    <video src="" class="gallery-main-video" controls playsinline></video>
                    <div class="gallery-zoom-icon"><i class="fas fa-search-plus"></i></div>
                </div>
                <div class="gallery-thumbnails"></div>
            </div>
            <h3 style="margin-top: 2.5rem; margin-bottom: 1.5rem; font-size: 1.5rem; text-align: left; border-bottom: 2px solid var(--color-border); padding-bottom: 0.5rem;">Technical Specifications</h3>
            
            <div class="table-container">
                <table class="spec-table">
                    <thead>
                        <tr>
                            <th colspan="2">Stranded Parameter</th>
                            <th colspan="2">Speed/Take up Parameter</th>
                        </tr>
                        <tr>
                            <th>ITEM</th>
                            <th>DATA</th>
                            <th>ITEM</th>
                            <th>DATA</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Cross Area</td>
                            <td>0.1-6mm²</td>
                            <td>Rotating Speed</td>
                            <td>3000rpm</td>
                        </tr>
                        <tr>
                            <td>Single Diameter</td>
                            <td>0.1-0.65mm</td>
                            <td>Max Linear Speed</td>
                            <td>350m/min</td>
                        </tr>
                        <tr>
                            <td>Max. Stranded Diameter</td>
                            <td>3.4mm</td>
                            <td rowspan="3" style="vertical-align: middle;">Take up Bobbin</td>
                            <td rowspan="3" style="vertical-align: middle;">PND630<br>PND560<br>PND500</td>
                        </tr>
                        <tr>
                            <td>Pitch</td>
                            <td>5-110mm</td>
                        </tr>
                         <tr>
                            <td>Take up Tension</td>
                            <td>15-60N/mm²</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    
    <!-- ** NEW ** MODAL FOR BOW TYPE LAYING UP MACHINE -->
    <div id="bow-type-spec-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>Bow Type Laying Up Machine</h2>
            <p style="margin-top: -1.5rem; margin-bottom: 1.5rem; font-size: 0.9rem;">Main Technical Parameters</p>
            
            <div class="media-gallery">
                <div class="gallery-main-view">
                    <img src="" alt="Bow Type Laying Up Machine Media" class="gallery-main-image">
                    <video src="" class="gallery-main-video" controls playsinline></video>
                    <div class="gallery-zoom-icon"><i class="fas fa-search-plus"></i></div>
                </div>
                <div class="gallery-thumbnails"></div>
            </div>
            <h3 style="margin-top: 2.5rem; margin-bottom: 1.5rem; font-size: 1.5rem; text-align: left; border-bottom: 2px solid var(--color-border); padding-bottom: 0.5rem;">Technical Specifications</h3>

            <div class="table-container">
                <table class="spec-table">
                    <thead>
                        <tr>
                            <th rowspan="2">Bobbin Size</th>
                            <th colspan="4">Max. Rotating Speed rpm B (Bobbin)</th>
                            <th colspan="4">Wire Diameter (ø mm)</th>
                        </tr>
                        <tr>
                            <th>3B</th>
                            <th>4B</th>
                            <th>5B</th>
                            <th>6B</th>
                            <th>Aluminum</th>
                            <th>Copper</th>
                            <th>Steel</th>
                            <th>PVC/XLPE</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>630</td>
                            <td>1200</td>
                            <td>1200</td>
                            <td>1000</td>
                            <td>1000</td>
                            <td>-</td>
                            <td>-</td>
                            <td>-</td>
                            <td>/</td>
                        </tr>
                        <tr>
                            <td>800</td>
                            <td>900</td>
                            <td>900</td>
                            <td>800</td>
                            <td>800</td>
                            <td>-</td>
                            <td>-</td>
                            <td>-</td>
                            <td>&le; 16</td>
                        </tr>
                        <tr>
                            <td>1000</td>
                            <td>400</td>
                            <td>400</td>
                            <td>350</td>
                            <td>350</td>
                            <td>1.8-5.0</td>
                            <td>1.5-4.5</td>
                            <td>1.3-3.5</td>
                            <td>&le; 16</td>
                        </tr>
                        <tr>
                            <td>1250</td>
                            <td>400</td>
                            <td>400</td>
                            <td>350</td>
                            <td>350</td>
                            <td>1.8-5.0</td>
                            <td>1.5-4.5</td>
                            <td>1.3-3.5</td>
                            <td>&le; 16</td>
                        </tr>
                        <tr>
                            <td>1600</td>
                            <td>300</td>
                            <td>300</td>
                            <td>270</td>
                            <td>270</td>
                            <td>1.8-5.0</td>
                            <td>1.5-4.5</td>
                            <td>1.3-3.5</td>
                            <td>&le; 16</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- ============================================= -->
    <!-- 12. MODALS & NOTIFICATIONS FOR RFQ FORM       -->
    <!-- ============================================= -->
    <div id="notification" class="notification">
        <!-- Message will be set by JavaScript -->
    </div>

    <!-- ** NEW ** QR CODE MODAL -->
    <div id="qr-modal" class="modal-overlay">
        <div class="qr-modal-content">
            <span class="modal-close">&times;</span>
            <img id="qr-modal-image" src="" alt="QR Code">
            <p id="qr-modal-text"></p>
        </div>
    </div>


    <!-- ======================= -->
    <!-- 13. EMBEDDED JAVASCRIPT -->
    <!-- ======================= -->

    <!-- ** START: New Map Libraries ** -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/topojson-client@3"></script>
    <!-- ** END: New Map Libraries ** -->
    
    <!-- Three.js for 3D Product Viewers -->
    <script type="importmap">
    {
        "imports": {
            "three": "https://unpkg.com/three@0.157.0/build/three.module.js",
            "three/addons/": "https://unpkg.com/three@0.157.0/examples/jsm/"
        }
    }
    </script>

    <script type="module">
        import * as THREE from 'three';
        import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

        // --- NEW: Language and Translation System ---

        const translations = {
            // English (Fallback)
            en: {
                siteTitle: "ABZ | Precision Cable Production Machinery",
                metaDescription: "ABZ is a global leader in robust, high-performance cable production equipment. Discover our solutions in drawing, stranding, and twisting machinery.",
                topBarFindRep: "Find Local Rep",
                navHome: "Home", navProducts: "Products", navSolutions: "Solutions", navProjects: "Projects", navAbout: "About", navContact: "Contact",
                navRequestQuote: "Request Quote",
                heroTitle: "Precision in Motion. Powering Global Connectivity.",
                heroSubtitle: "ABZ delivers robust, high-performance cable production machinery, engineered for reliability and a connected future.",
                heroBtnQuote: "Request a Quote", heroBtnDemo: "Book a Demo",
                valueStrip1: "Manufacturing Facility", valueStrip2: "Years of Industry Experience", valueStrip3: "Global Installations", valueStrip4: "Engineered & Made in China",
                news1: "Wire Düsseldorf 2024 - Visit us at Hall 9, Booth C-05.", news2: "ABZ launches new high-speed bunching series for automotive applications.", news3: "Successful installation of a full turnkey plant in Mexico.", news4: "We've achieved ISO 14001 certification for environmental management.",
                productsHeader: "Our Core Machinery",
                filterAll: "All", filterDrawing: "Drawing", filterStranding: "Stranding", filterTwisting: "Twisting", filterBunching: "Bunching", filterTaping: "Taping",
                productBtnSpec: "View Specification",
                solutionsHeader: "Solutions by Industry",
                solution1Title: "Power Cable", solution1Desc: "Complete lines for low, medium, and high-voltage power transmission cables.",
                solutionBtnCaseStudy: "See Case Study →",
                projectsHeader: "Our Global Footprint",
                projectsSubheader: "Trusted by industry leaders across continents. Hover over a point for details. Drag to pan and scroll to zoom.",
                aboutHeader: "Engineering Excellence, Global Trust",
                aboutSubheader1: "20,000m² State-of-the-Art Factory",
                aboutSubheader2: "Our ISO 901 certified facility integrates R&D, precision machining, and assembly under one roof. We leverage advanced CNC centers and rigorous quality control to translate heavy engineering into sleek, high-performance machinery. Every ABZ machine is a testament to our commitment to quality, durability, and innovation.",
                aboutSubheader3: "Made in China, trusted by the world.",
                certificatesHeader: "Our Credentials & Awards",
                contactHeader: "Contact Your Regional Manager",
                tabSelectManager: "Select Manager", tabSelectRegion: "Select Region", tabSelectCountry: "Select Country",
                contactSectionTitle1: "Please select your manager depending on your area",
                contactSectionTitle2: "Please select your region",
                contactSectionTitle3: "Please select your country",
                managerRegionAmanda: "Sales Manager - North & South America",
                rfqFormTitle: "Request for Quotation to {managerName}",
                formFirstName: "First Name", formLastName: "Last Name", formCompany: "Company", formCity: "City", formEmail: "Email", formPreferredContact: "Preferred Contact",
                formContactIDPlaceholder: "Your Number or ID",
                formInterestedProducts: "Interested Product(s)",
                formOtherProduct: "Other",
                formMessage: "Message",
                formSubmitBtn: "Send Quick RFQ",
                locationsHeader: "Our Locations",
                locationsSubheader: "Our global presence is supported by our state-of-the-art facilities.",
                location1Type: "Headquarters", location1Name: "Shanghai Office", locationBtnDirections: "Get Directions",
                location2Type: "Manufacturing Facility", location2Name: "Changzhou Factory",
                footerQuickLinks: "Quick Links", footerSupport: "Support", footerConnect: "Connect",
                footerNews: "News & Exhibitions", footerService: "Service & Spare Parts", footerDownloads: "Downloads",
                footerCopyright: "All Rights Reserved.", footerPrivacy: "Privacy Policy", footerLegal: "Legal"
            },
            // Spanish
            es: {
                siteTitle: "ABZ | Maquinaria de Precisión para Producción de Cables",
                metaDescription: "ABZ es un líder mundial en equipos robustos y de alto rendimiento para la producción de cables. Descubra nuestras soluciones en maquinaria de trefilado, cableado y torsión.",
                topBarFindRep: "Buscar Rep Local",
                navHome: "Inicio", navProducts: "Productos", navSolutions: "Soluciones", navProjects: "Proyectos", navAbout: "Acerca de", navContact: "Contacto",
                navRequestQuote: "Solicitar Cotización",
                heroTitle: "Precisión en Movimiento. Impulsando la Conectividad Global.",
                heroSubtitle: "ABZ ofrece maquinaria robusta y de alto rendimiento para la producción de cables, diseñada para la fiabilidad y un futuro conectado.",
                heroBtnQuote: "Solicitar Cotización", heroBtnDemo: "Agendar Demo",
                valueStrip1: "Planta de Fabricación", valueStrip2: "Años de Experiencia", valueStrip3: "Instalaciones Globales", valueStrip4: "Diseñado y Hecho en China",
                news1: "Wire Düsseldorf 2024 - Visítenos en el Pabellón 9, Stand C-05.",
                productsHeader: "Nuestra Maquinaria Principal",
                filterAll: "Todo", filterDrawing: "Trefilado", filterStranding: "Cableado", filterTwisting: "Torsión", filterBunching: "Reunido", filterTaping: "Cintado",
                productBtnSpec: "Ver Especificación",
                solutionsHeader: "Soluciones por Industria",
                solution1Title: "Cable de Potencia",
                solutionBtnCaseStudy: "Ver Caso de Estudio →",
                projectsHeader: "Nuestra Huella Global",
                projectsSubheader: "Con la confianza de líderes de la industria en todos los continentes. Pase el cursor sobre un punto para ver detalles. Arrastre para mover y desplace para hacer zoom.",
                aboutHeader: "Excelencia en Ingeniería, Confianza Global",
                contactHeader: "Contacte a su Gerente Regional",
                tabSelectManager: "Elegir Gerente", tabSelectRegion: "Elegir Región", tabSelectCountry: "Elegir País",
                contactSectionTitle1: "Por favor, seleccione su gerente según su área",
                rfqFormTitle: "Solicitud de Cotización para {managerName}",
                formFirstName: "Nombre", formLastName: "Apellido", formCompany: "Empresa", formCity: "Ciudad", formEmail: "Correo electrónico", formPreferredContact: "Contacto Preferido",
                formContactIDPlaceholder: "Su Número o ID",
                formInterestedProducts: "Producto(s) de Interés",
                formMessage: "Mensaje",
                formSubmitBtn: "Enviar Cotización Rápida",
                locationsHeader: "Nuestras Ubicaciones",
                footerCopyright: "Todos los derechos reservados.", footerPrivacy: "Política de Privacidad", footerLegal: "Aviso Legal"
            },
            // German
            de: {
                siteTitle: "ABZ | Präzisionsmaschinen für die Kabelproduktion",
                metaDescription: "ABZ ist ein weltweit führender Anbieter von robusten, leistungsstarken Anlagen für die Kabelproduktion. Entdecken Sie unsere Lösungen für Zieh-, Verseil- und Verdrillmaschinen.",
                topBarFindRep: "Lokalen Vertreter finden",
                navHome: "Startseite", navProducts: "Produkte", navSolutions: "Lösungen", navProjects: "Projekte", navAbout: "Über uns", navContact: "Kontakt",
                navRequestQuote: "Angebot anfordern",
                heroTitle: "Präzision in Bewegung. Globale Konnektivität fördern.",
                heroSubtitle: "ABZ liefert robuste, leistungsstarke Kabelproduktionsmaschinen, die auf Zuverlässigkeit und eine vernetzte Zukunft ausgelegt sind.",
                heroBtnQuote: "Angebot anfordern", heroBtnDemo: "Demo buchen",
                valueStrip1: "Produktionsstätte", valueStrip2: "Jahre Branchenerfahrung", valueStrip3: "Globale Installationen", valueStrip4: "Entwickelt & Hergestellt in China",
                productsHeader: "Unsere Kernmaschinen",
                filterAll: "Alle", filterDrawing: "Ziehen", filterStranding: "Verseilen", filterTwisting: "Verdrillen", filterBunching: "Bündeln", filterTaping: "Bandieren",
                productBtnSpec: "Spezifikation ansehen",
                solutionsHeader: "Lösungen nach Branche",
                projectsHeader: "Unsere globale Präsenz",
                aboutHeader: "Technische Exzellenz, weltweites Vertrauen",
                contactHeader: "Kontaktieren Sie Ihren regionalen Manager",
                tabSelectManager: "Manager wählen", tabSelectRegion: "Region wählen", tabSelectCountry: "Land wählen",
                rfqFormTitle: "Angebotsanfrage an {managerName}",
                formSubmitBtn: "Schnellanfrage senden",
                locationsHeader: "Unsere Standorte",
                footerCopyright: "Alle Rechte vorbehalten.", footerPrivacy: "Datenschutz", footerLegal: "Impressum"
            },
            // Turkish
            tr: {
                siteTitle: "ABZ | Hassas Kablo Üretim Makineleri",
                metaDescription: "ABZ, sağlam, yüksek performanslı kablo üretim ekipmanlarında dünya lideridir. Çekme, bükme ve sarma makinelerindeki çözümlerimizi keşfedin.",
                topBarFindRep: "Yerel Temsilci Bul",
                navHome: "Anasayfa", navProducts: "Ürünler", navSolutions: "Çözümler", navProjects: "Projeler", navAbout: "Hakkımızda", navContact: "İletişim",
                navRequestQuote: "Teklif İste",
                heroTitle: "Harekette Hassasiyet. Küresel Bağlantıyı Güçlendiriyoruz.",
                heroSubtitle: "ABZ, güvenilirlik ve bağlantılı bir gelecek için tasarlanmış sağlam, yüksek performanslı kablo üretim makineleri sunar.",
                heroBtnQuote: "Teklif İste", heroBtnDemo: "Demo Ayarla",
                valueStrip1: "Üretim Tesisi", valueStrip2: "Yıllık Sektör Deneyimi", valueStrip3: "Global Kurulum", valueStrip4: "Çin'de Tasarlandı ve Üretildi",
                productsHeader: "Ana Makinelerimiz",
                filterAll: "Tümü", filterDrawing: "Tel Çekme", filterStranding: "Büküm", filterTwisting: "Bükme", filterBunching: "Demetleme", filterTaping: "Bantlama",
                productBtnSpec: "Özellikleri Görüntüle",
                solutionsHeader: "Sektöre Göre Çözümler",
                projectsHeader: "Küresel Ayak İzimiz",
                aboutHeader: "Mühendislik Mükemmelliği, Küresel Güven",
                contactHeader: "Bölge Yöneticinizle İletişime Geçin",
                tabSelectManager: "Yönetici Seç", tabSelectRegion: "Bölge Seç", tabSelectCountry: "Ülke Seç",
                rfqFormTitle: "{managerName} için Teklif Talebi",
                formSubmitBtn: "Hızlı Teklif Gönder",
                locationsHeader: "Lokasyonlarımız",
                footerCopyright: "Tüm hakları saklıdır.", footerPrivacy: "Gizlilik Politikası", footerLegal: "Yasal"
            },
            // Portuguese
            pt: {
                siteTitle: "ABZ | Máquinas de Precisão para Produção de Cabos",
                metaDescription: "A ABZ é líder global em equipamentos robustos e de alto desempenho para produção de cabos. Descubra nossas soluções em trefilação, torção e encordoamento.",
                topBarFindRep: "Encontrar Rep Local",
                navHome: "Início", navProducts: "Produtos", navSolutions: "Soluções", navProjects: "Projetos", navAbout: "Sobre", navContact: "Contato",
                navRequestQuote: "Solicitar Orçamento",
                heroTitle: "Precisão em Movimento. Potencializando a Conectividade Global.",
                heroSubtitle: "A ABZ fornece máquinas robustas e de alto desempenho para a produção de cabos, projetadas para confiabilidade e um futuro conectado.",
                heroBtnQuote: "Solicitar Orçamento", heroBtnDemo: "Agendar Demonstração",
                valueStrip1: "Planta de Manufatura", valueStrip2: "Anos de Experiência na Indústria", valueStrip3: "Instalações Globais", valueStrip4: "Projetado e Fabricado na China",
                productsHeader: "Nossas Máquinas Principais",
                productBtnSpec: "Ver Especificação",
                solutionsHeader: "Soluções por Indústria",
                projectsHeader: "Nossa Presença Global",
                aboutHeader: "Excelência em Engenharia, Confiança Global",
                contactHeader: "Contate seu Gerente Regional",
                rfqFormTitle: "Pedido de Cotação para {managerName}",
                formSubmitBtn: "Enviar Cotação Rápida",
                locationsHeader: "Nossas Localidades",
                footerCopyright: "Todos os direitos reservados.", footerPrivacy: "Política de Privacidade", footerLegal: "Legal"
            },
            // Arabic
            ar: {
                siteTitle: "ABZ | آلات دقيقة لإنتاج الكابلات",
                metaDescription: "ABZ هي شركة عالمية رائدة في معدات إنتاج الكابلات القوية وعالية الأداء. اكتشف حلولنا في آلات السحب والجدل واللف.",
                topBarFindRep: "ابحث عن مندوب محلي",
                navHome: "الرئيسية", navProducts: "المنتجات", navSolutions: "الحلول", navProjects: "المشاريع", navAbout: "عنا", navContact: "اتصل بنا",
                navRequestQuote: "اطلب عرض سعر",
                heroTitle: "الدقة في الحركة. تعزيز الاتصال العالمي.",
                heroSubtitle: "تقدم ABZ آلات إنتاج كابلات قوية وعالية الأداء، مصممة للموثوقية ومستقبل متصل.",
                heroBtnQuote: "اطلب عرض سعر", heroBtnDemo: "احجز عرضًا توضيحيًا",
                valueStrip1: "منشأة التصنيع", valueStrip2: "سنوات من الخبرة في الصناعة", valueStrip3: "تركيبات عالمية", valueStrip4: "هندسة وصناعة في الصين",
                productsHeader: "آلاتنا الأساسية",
                filterAll: "الكل", filterDrawing: "السحب", filterStranding: "الجدل", filterTwisting: "اللف", filterBunching: "التجميع", filterTaping: "التغليف بالشريط",
                productBtnSpec: "عرض المواصفات",
                solutionsHeader: "حلول حسب الصناعة",
                projectsHeader: "بصمتنا العالمية",
                aboutHeader: "التميز الهندسي، ثقة عالمية",
                contactHeader: "اتصل بمدير منطقتك",
                tabSelectManager: "اختر المدير", tabSelectRegion: "اختر المنطقة", tabSelectCountry: "اختر الدولة",
                rfqFormTitle: "طلب عرض سعر إلى {managerName}",
                formFirstName: "الاسم الأول", formLastName: "اسم العائلة", formCompany: "الشركة", formCity: "المدينة", formEmail: "البريد الإلكتروني", formPreferredContact: "جهة الاتصال المفضلة",
                formSubmitBtn: "إرسال طلب سريع",
                locationsHeader: "مواقعنا",
                footerCopyright: "كل الحقوق محفوظة.", footerPrivacy: "سياسة الخصوصية", footerLegal: "قانوني"
            },
            // Bangla
            bn: {
                siteTitle: "ABZ | নির্ভুল কেবল উৎপাদন যন্ত্রপাতি",
                metaDescription: "ABZ শক্তিশালী, উচ্চ-কার্যক্ষমতার কেবল উৎপাদন সরঞ্জামে একটি বিশ্বব্যাপী নেতা। আমাদের ড্রয়িং, স্ট্র্যান্ডিং, এবং টুইস্টিং যন্ত্রপাতির সমাধানগুলি আবিষ্কার করুন।",
                topBarFindRep: "স্থানীয় প্রতিনিধি খুঁজুন",
                navHome: "হোম", navProducts: "পণ্য", navSolutions: "সমাধান", navProjects: "প্রকল্প", navAbout: "আমাদের সম্পর্কে", navContact: "যোগাযোগ",
                navRequestQuote: "উদ্ধৃতি অনুরোধ করুন",
                heroTitle: "গতিতে নির্ভুলতা। বিশ্বব্যাপী সংযোগ শক্তিশালী করা।",
                heroSubtitle: "ABZ নির্ভরযোগ্যতা এবং একটি সংযুক্ত ভবিষ্যতের জন্য তৈরি শক্তিশালী, উচ্চ-কার্যক্ষমতার কেবল উৎপাদন যন্ত্রপাতি সরবরাহ করে।",
                heroBtnQuote: "একটি উদ্ধৃতি অনুরোধ করুন", heroBtnDemo: "একটি ডেমো বুক করুন",
                valueStrip1: "উত্পাদন সুবিধা", valueStrip2: "শিল্প অভিজ্ঞতার বছর", valueStrip3: "বিশ্বব্যাপী ইনস্টলেশন", valueStrip4: "চীনে প্রকৌশলী ও তৈরি",
                productsHeader: "আমাদের মূল যন্ত্রপাতি",
                productBtnSpec: "স্পেসিফিকেশন দেখুন",
                solutionsHeader: "শিল্প দ্বারা সমাধান",
                projectsHeader: "আমাদের বিশ্বব্যাপী পদচিহ্ন",
                aboutHeader: "প্রকৌশলে শ্রেষ্ঠত্ব, বিশ্বব্যাপী বিশ্বাস",
                contactHeader: "আপনার আঞ্চলিক পরিচালকের সাথে যোগাযোগ করুন",
                rfqFormTitle: "{managerName} এর কাছে উদ্ধৃতির জন্য অনুরোধ",
                formSubmitBtn: "দ্রুত RFQ পাঠান",
                locationsHeader: "আমাদের অবস্থান",
                footerCopyright: "সর্বস্বত্ব সংরক্ষিত।", footerPrivacy: "গোপনীয়তা নীতি", footerLegal: "আইনি"
            }
        };

        const languageSelector = document.getElementById('language-select');

        const setLanguage = (lang) => {
            if (!translations[lang]) lang = 'en'; // Fallback to English

            document.documentElement.lang = lang;
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';

            document.querySelectorAll('[data-translate]').forEach(el => {
                const key = el.getAttribute('data-translate');
                // For cloned keys like 'productBtnSpec_clone1', use the base key 'productBtnSpec'
                const baseKey = key.split('_clone')[0];
                const translation = translations[lang][baseKey] || translations.en[baseKey];
                if (translation) {
                    el.textContent = translation;
                }
            });
            
            // Handle dynamic translations like form titles
            document.querySelectorAll('[data-translate-dynamic]').forEach(el => {
                const key = el.getAttribute('data-translate-dynamic');
                const managerName = el.getAttribute('data-manager-name');
                let translation = translations[lang][key] || translations.en[key];
                if(translation && managerName) {
                    el.textContent = translation.replace('{managerName}', managerName);
                }
            });

            // Handle attributes like placeholders
            document.querySelectorAll('[data-translate-placeholder]').forEach(el => {
                const key = el.getAttribute('data-translate-placeholder');
                const translation = translations[lang][key] || translations.en[key];
                 if (translation) {
                    el.placeholder = translation;
                }
            });

            // Handle head elements (title, meta description)
            const siteTitle = document.querySelector('[data-translate="siteTitle"]');
            const metaDescription = document.querySelector('[data-translate="metaDescription"]');
            if (siteTitle) siteTitle.textContent = translations[lang].siteTitle || translations.en.siteTitle;
            if (metaDescription) metaDescription.content = translations[lang].metaDescription || translations.en.metaDescription;

            languageSelector.value = lang;
            localStorage.setItem('userLanguage', lang);
        };

        const getInitialLanguage = async () => {
            const savedLang = localStorage.getItem('userLanguage');
            if (savedLang && translations[savedLang]) {
                return savedLang;
            }

            try {
                const response = await fetch('https://ip-api.com/json/?fields=status,countryCode');
                const data = await response.json();
                if (data.status === 'success') {
                    const countryCode = data.countryCode;
                    const langMap = {
                        'DE': 'de', 'AT': 'de', 'CH': 'de',
                        'ES': 'es', 'MX': 'es', 'CO': 'es', 'AR': 'es', 'PE': 'es', 'VE': 'es', 'CL': 'es', 'EC': 'es', 'GT': 'es', 'CU': 'es', 'BO': 'es', 'HN': 'es', 'PY': 'es', 'SV': 'es', 'NI': 'es', 'CR': 'es', 'PA': 'es', 'UY': 'es',
                        'BR': 'pt', 'PT': 'pt',
                        'TR': 'tr',
                        'BD': 'bn',
                        'SA': 'ar', 'EG': 'ar', 'AE': 'ar', 'JO': 'ar', 'LB': 'ar', 'OM': 'ar', 'KW': 'ar', 'QA': 'ar', 'BH': 'ar'
                        // Add more country-to-language mappings as needed
                    };
                    return langMap[countryCode] || 'en';
                }
                return 'en'; // Fallback if API fails
            } catch (error) {
                console.error("Could not fetch user location, defaulting to English.", error);
                return 'en'; // Fallback on network error
            }
        };

        languageSelector.addEventListener('change', (e) => setLanguage(e.target.value));

        (async () => {
            const initialLang = await getInitialLanguage();
            setLanguage(initialLang);
        })();

        // --- 0. Theme Switcher ---
        const themeToggle = document.getElementById('theme-toggle');
        const body = document.body;

        const setTheme = (theme) => {
            if (theme === 'dark') {
                body.classList.add('dark-mode');
                themeToggle.title = 'Activate light mode';
            } else {
                body.classList.remove('dark-mode');
                themeToggle.title = 'Activate dark mode';
            }
            localStorage.setItem('theme', theme);
        };

        themeToggle.addEventListener('click', () => {
            const isDarkMode = body.classList.contains('dark-mode');
            setTheme(isDarkMode ? 'light' : 'dark');
        });
        
        // Immediately invoked function to set the theme on initial load to prevent flashing
        (() => {
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

            if (savedTheme) {
                setTheme(savedTheme);
            } else if (prefersDark) {
                setTheme('dark');
            } else {
                setTheme('light'); // Default theme
            }
        })();

        // --- 1. Sticky Navigation & Mobile Menu ---
        const nav = document.getElementById('main-nav');
        const mobileToggle = document.getElementById('mobile-nav-toggle');
        const navLinks = document.getElementById('nav-links');

        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                nav.classList.add('scrolled');
            } else {
                nav.classList.remove('scrolled');
            }
        });

        mobileToggle.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            mobileToggle.innerHTML = navLinks.classList.contains('active') ? '<i class="fas fa-times"></i>' : '<i class="fas fa-bars"></i>';
        });
        
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => {
                navLinks.classList.remove('active');
                mobileToggle.innerHTML = '<i class="fas fa-bars"></i>';
            });
        });

        // --- 2. Intersection Observer for Scroll Animations ---
        const revealElements = document.querySelectorAll('.reveal');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                // Check for the factory video within the observed element
                const factoryVideo = entry.target.querySelector('#factory-video');

                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    if (entry.target.classList.contains('value-item')) {
                        const counters = entry.target.querySelectorAll('.counter');
                        counters.forEach(counter => {
                            if (!counter.classList.contains('animated')) {
                                animateCounter(counter);
                                counter.classList.add('animated');
                            }
                        });
                    }
                    // If the factory video is in the observed element, play it
                    if (factoryVideo) {
                        factoryVideo.play().catch(error => console.log("Video autoplay prevented:", error));
                    }
                } else {
                    // If the factory video is in the observed element and it's leaving the screen, pause it
                    if (factoryVideo) {
                        factoryVideo.pause();
                    }
                }
            });
        }, { threshold: 0.15 }); // Using a lower threshold for quicker reveals

        revealElements.forEach(el => observer.observe(el));
        
        // --- 3. Value Strip Counter Animation ---
        function animateCounter(counter) {
            const target = +counter.getAttribute('data-target');
            const duration = 2000;
            let current = 0;
            const step = () => {
                const increment = target / (duration / 20);
                current += increment;
                if (current < target) {
                    counter.innerText = Math.ceil(current).toLocaleString();
                    requestAnimationFrame(step);
                } else {
                    counter.innerText = target.toLocaleString();
                }
            };
            step();
        }

        // --- 4. Product Filter Logic ---
        const filterBtns = document.querySelectorAll('.filter-btn');
        const productCards = document.querySelectorAll('.product-card');

        filterBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                filterBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                const filter = btn.getAttribute('data-filter');
                
                productCards.forEach(card => {
                    if (filter === 'all' || card.getAttribute('data-category') === filter) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        });

        // --- 5. 3D Product Viewer (Three.js) ---
        function init3DViewer(canvas) {
            if (!canvas.dataset.modelPath) return;

            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, canvas.clientWidth / canvas.clientHeight, 0.1, 1000);
            camera.position.z = 3;
            camera.position.y = 1;

            const renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true, alpha: true });
            renderer.setSize(canvas.clientWidth, canvas.clientHeight);
            renderer.setPixelRatio(window.devicePixelRatio);

            const controls = new OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.enableZoom = false;
            controls.autoRotate = true;
            controls.autoRotateSpeed = 1.0;
            
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);
            scene.add(ambientLight);
            const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
            directionalLight.position.set(5, 5, 5);
            scene.add(directionalLight);

            const loader = new GLTFLoader();
            loader.load(
                canvas.dataset.modelPath,
                (gltf) => {
                    const model = gltf.scene;
                    const box = new THREE.Box3().setFromObject(model);
                    const center = box.getCenter(new THREE.Vector3());
                    model.position.sub(center);
                    scene.add(model);
                },
                undefined,
                (error) => { console.error('An error happened', error); }
            );

            function animate() {
                requestAnimationFrame(animate);
                controls.update();
                renderer.render(scene, camera);
            }
            animate();
            
            window.addEventListener('resize', () => {
                camera.aspect = canvas.clientWidth / canvas.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(canvas.clientWidth, canvas.clientHeight);
            });
        }

        document.querySelectorAll('.product-3d-viewer').forEach(init3DViewer);

        // --- 6. Certificate Slider Logic (NEW) ---
        function initCertificateSlider() {
            const certificates = [
                { img: "certificate-1.jpg", title: "Science & Technology Certificate", cn: "光电科学技术证书" },
                { img: "certificate-2.jpg", title: "Influential Brand Award", cn: "推荐品牌企业" },
                { img: "certificate-3.jpg", title: "ISO 9001:2015 QMS", cn: "质量管理体系认证" },
                { img: "certificate-4.jpg", title: "Jiangsu Private S&T Enterprise", cn: "江苏民营科技企业" },
                { img: "certificate-5.jpg", title: "High-Growth 'Gazelle' Enterprise", cn: "瞪羚企业" },
                { img: "certificate-6.jpg", title: "Science & Technology Award", cn: "科学技术奖" },
                { img: "certificate-7.jpg", title: "Excellent Industry Supplier", cn: "线缆行业优秀设备供应商" },
                { img: "certificate-8.jpg", title: "National High-Tech Enterprise", cn: "高新技术企业" }
            ];

            const track = document.querySelector('.cert-slider-track');
            if (!track) return;

            // Duplicate slides for infinite loop effect
            const allCerts = [...certificates, ...certificates];
            allCerts.forEach(cert => {
                track.innerHTML += `
                    <div class="cert-slide">
                        <div class="cert-card">
                            <figure>
                                <div class="cert-image-container">
                                    <img src="media/${cert.img}" alt="${cert.title}">
                                </div>
                                <figcaption>${cert.title}<span class="cert-title-cn">${cert.cn}</span></figcaption>
                            </figure>
                        </div>
                    </div>
                `;
            });
            
            const wrapper = document.querySelector('.cert-slider-wrapper');
            const prevBtn = wrapper.querySelector('.prev');
            const nextBtn = wrapper.querySelector('.next');
            const slides = track.querySelectorAll('.cert-slide');
            
            let currentIndex = 0;
            let slideWidth = slides[0].offsetWidth;
            let intervalId;

            function updateSlideWidth() {
                slideWidth = slides[0].offsetWidth;
                track.style.transition = 'none'; // Disable transition for instant jump
                track.style.transform = `translateX(-${currentIndex * slideWidth}px)`;
                setTimeout(() => { track.style.transition = 'transform 0.5s ease-in-out'; }, 50);
            }

            function moveToNext() {
                currentIndex++;
                track.style.transform = `translateX(-${currentIndex * slideWidth}px)`;

                if (currentIndex === certificates.length) {
                    setTimeout(() => {
                        track.style.transition = 'none';
                        currentIndex = 0;
                        track.style.transform = `translateX(0px)`;
                        setTimeout(() => { track.style.transition = 'transform 0.5s ease-in-out'; });
                    }, 500);
                }
            }

            function moveToPrev() {
                if (currentIndex === 0) {
                    track.style.transition = 'none';
                    currentIndex = certificates.length;
                    track.style.transform = `translateX(-${currentIndex * slideWidth}px)`;
                    setTimeout(() => { track.style.transition = 'transform 0.5s ease-in-out'; });
                }
                setTimeout(() => {
                    currentIndex--;
                    track.style.transform = `translateX(-${currentIndex * slideWidth}px)`;
                }, 50);
            }
            
            function startAutoplay() {
                intervalId = setInterval(moveToNext, 4000);
            }

            function stopAutoplay() {
                clearInterval(intervalId);
            }

            nextBtn.addEventListener('click', () => {
                moveToNext();
            });

            prevBtn.addEventListener('click', () => {
                moveToPrev();
            });
            
            wrapper.addEventListener('mouseenter', stopAutoplay);
            wrapper.addEventListener('mouseleave', startAutoplay);
            window.addEventListener('resize', updateSlideWidth);
            
            startAutoplay();
        }
        initCertificateSlider();
        
        // --- 7. Update Footer Year ---
        document.getElementById('year').textContent = new Date().getFullYear();

        // --- 8. Specification Modal Logic (Refactored for multiple modals) ---
        document.addEventListener('click', (e) => {
            const trigger = e.target.closest('[data-modal-target]');
            if (trigger) {
                e.preventDefault();
                const modalId = trigger.dataset.modalTarget;
                const modal = document.querySelector(modalId);
                if (modal) {
                    modal.classList.add('visible');
                }
            }

            // Close modal logic integrated here for efficiency
            const closeButton = e.target.closest('.modal-close');
            if(closeButton) {
                closeButton.closest('.modal-overlay').classList.remove('visible');
            }
        });

        // Close modal when clicking on the overlay background
        document.querySelectorAll('.modal-overlay').forEach(modal => {
            modal.addEventListener('click', e => {
                if (e.target === modal) {
                    modal.classList.remove('visible');
                }
            });
        });

        // Close modal with the Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                document.querySelectorAll('.modal-overlay.visible').forEach(modal => {
                    modal.classList.remove('visible');
                });
            }
        });

        // --- 9. QR Code Modal Logic ---
        const qrModal = document.getElementById('qr-modal');
        if (qrModal) {
            const qrModalImage = document.getElementById('qr-modal-image');
            const qrModalText = document.getElementById('qr-modal-text');
            const closeQrModalBtn = qrModal.querySelector('.modal-close');

            const openQrModal = (icon) => {
                const src = icon.dataset.qrSrc;
                const type = icon.dataset.qrType;
                const info = icon.dataset.qrInfo;

                qrModalImage.src = src;
                qrModalImage.alt = `${type} QR Code`;
                qrModalText.textContent = `Scan for ${type} (${info})`;
                
                qrModal.classList.add('visible');
            };

            const closeQrModal = () => {
                qrModal.classList.remove('visible');
            };

            // Event delegation for dynamically created icons
            document.body.addEventListener('click', (e) => {
                if (e.target.matches('.qr-icon')) {
                    e.preventDefault();
                    openQrModal(e.target);
                }
            });

            closeQrModalBtn.addEventListener('click', closeQrModal);
            
            qrModal.addEventListener('click', (e) => {
                if (e.target === qrModal) {
                    closeQrModal();
                }
            });

            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && qrModal.classList.contains('visible')) {
                    closeQrModal();
                }
            });
        }
        
        // --- 10. Generic Product Media Gallery ---
        function initProductGallery(modalSelector, folderPath) {
            const galleryModal = document.querySelector(modalSelector);
            if (!galleryModal) return;

            const mainImageView = galleryModal.querySelector('.gallery-main-image');
            const mainVideoView = galleryModal.querySelector('.gallery-main-video');
            const thumbnailsContainer = galleryModal.querySelector('.gallery-thumbnails');
            const zoomIcon = galleryModal.querySelector('.gallery-zoom-icon');
            const mediaGalleryContainer = galleryModal.querySelector('.media-gallery');
            const lightbox = document.getElementById('gallery-lightbox');
            const lightboxImage = lightbox.querySelector('.lightbox-image');
            const lightboxClose = lightbox.querySelector('.lightbox-close');
            
            if (!mainImageView || !thumbnailsContainer || !lightbox) {
                console.error(`Essential gallery components missing in ${modalSelector}`);
                if(mediaGalleryContainer) mediaGalleryContainer.style.display = 'none';
                return;
            }

            let mediaItems = [];

            function createThumbnails() {
                thumbnailsContainer.innerHTML = '';
                mediaItems.forEach((item, index) => {
                    const thumbDiv = document.createElement('div');
                    thumbDiv.className = 'gallery-thumb';
                    thumbDiv.dataset.index = index;

                    if (item.type === 'image') {
                        const img = document.createElement('img');
                        img.src = item.file;
                        img.alt = `Thumbnail ${index + 1}`;
                        thumbDiv.appendChild(img);
                    } else if (item.type === 'video') {
                        const video = document.createElement('video');
                        video.src = item.file + '#t=0.1';
                        video.muted = true;
                        video.preload = 'metadata';
                        thumbDiv.appendChild(video);
                        
                        const playIcon = document.createElement('div');
                        playIcon.className = 'play-icon';
                        playIcon.innerHTML = '<i class="fas fa-play"></i>';
                        thumbDiv.appendChild(playIcon);
                    }
                    thumbnailsContainer.appendChild(thumbDiv);
                });
            }

            function showMedia(index) {
                const item = mediaItems[index];
                if (!item) return;

                mainImageView.classList.remove('active');
                mainVideoView.classList.remove('active');
                mainVideoView.pause();

                if (item.type === 'image') {
                    mainImageView.src = item.file;
                    mainImageView.classList.add('active');
                } else if (item.type === 'video') {
                    mainVideoView.src = item.file;
                    mainVideoView.classList.add('active');
                    mainVideoView.play().catch(e => console.error("Video play failed:", e));
                }
                
                thumbnailsContainer.querySelectorAll('.gallery-thumb').forEach(thumb => {
                    thumb.classList.toggle('active', thumb.dataset.index == index);
                });
            }

            thumbnailsContainer.addEventListener('click', (e) => {
                const thumb = e.target.closest('.gallery-thumb');
                if (thumb) showMedia(thumb.dataset.index);
            });

            zoomIcon.addEventListener('click', () => {
                if (mainImageView.classList.contains('active')) {
                    lightboxImage.src = mainImageView.src;
                    lightbox.classList.add('visible');
                }
            });
            
            const closeLightbox = () => lightbox.classList.remove('visible');
            lightboxClose.addEventListener('click', closeLightbox);
            lightbox.addEventListener('click', (e) => {
                if(e.target === lightbox) closeLightbox();
            });
             
            const checkFileExists = (url, type) => {
                return new Promise(resolve => {
                    const element = type === 'img' ? new Image() : document.createElement('video');
                    const handleSuccess = () => resolve({ status: 'ok', url });
                    const handleError = () => resolve({ status: 'error', url });
                    
                    if (type === 'video') element.oncanplaythrough = handleSuccess;
                    else element.onload = handleSuccess;
                    
                    element.onerror = handleError;
                    element.src = url;
                });
            };

            async function initializeGallery() {
                const maxFilesToCheck = 10;
                const promises = [];
                
                for (let i = 1; i <= maxFilesToCheck; i++) {
                    promises.push(checkFileExists(`${folderPath}${i}.png`, 'img'));
                    promises.push(checkFileExists(`${folderPath}${i}.mp4`, 'video'));
                }

                const results = await Promise.all(promises);
                const confirmedMedia = results
                    .filter(r => r.status === 'ok')
                    .map(r => ({
                        type: r.url.endsWith('.png') ? 'image' : 'video',
                        file: r.url
                    }));

                if (confirmedMedia.length > 0) {
                    mediaItems = confirmedMedia.sort((a,b) => a.file.localeCompare(b.file, undefined, {numeric: true}));
                    createThumbnails();
                    showMedia(0);
                } else {
                    if (mediaGalleryContainer) mediaGalleryContainer.style.display = 'none';
                }
            }
            
            initializeGallery();
        }

        const productGalleriesConfig = [
            { modalSelector: '#planetary-big-bearing-spec-modal', folderPath: 'media/planetary-strander/' },
            { modalSelector: '#rigid-spec-modal', folderPath: 'media/rigid-frame/' },
            { modalSelector: '#tubular-spec-modal', folderPath: 'media/tubular-stranding/' },
            { modalSelector: '#cradle-laying-up-spec-modal', folderPath: 'media/cradle-type-laying-up/' },
            { modalSelector: '#bow-type-spec-modal', folderPath: 'media/bow-type-laying-up/' },
            { modalSelector: '#copper-tape-spec-modal', folderPath: 'media/copper-tape-screening/' },
            { modalSelector: '#double-twist-buncher-tw630-spec-modal', folderPath: 'media/double-twist-bunching/' },
            { modalSelector: '#drum-twister-spec-modal', folderPath: 'media/drum-twister/' },
            { modalSelector: '#rod-breakdown-spec-modal', folderPath: 'media/bunching/' }
        ];

        productGalleriesConfig.forEach(config => {
            const modalTrigger = document.querySelector(`[data-modal-target="${config.modalSelector}"]`);
            if (modalTrigger) {
                let isInitialized = false;
                modalTrigger.addEventListener('click', () => {
                    if (!isInitialized) {
                        initProductGallery(config.modalSelector, config.folderPath);
                        isInitialized = true;
                    }
                }, { once: true }); // A cleaner way to ensure it runs only once
            }
        });

    </script>
    
    <!-- ** START: New Interactive Map Script ** -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const regionalLocations = [
            { name: "HQ & Manufacturing Hub", city:"Shanghai", country:"China", lat: 31.2304, lon: 121.4737, size: 1.5, type: 'hq' },
            { name: "Regional Presence", city:"Los Angeles", country:"USA", lat: 34.0522, lon: -118.2437, size: 1.0, type: 'regionalPresence' },
            { name: "Regional Presence", city:"Mexico City", country:"Mexico", lat: 19.4326, lon: -99.1332, size: 1.0, type: 'regionalPresence' },
            { name: "Regional Presence", city:"São Paulo", country:"Brazil", lat: -23.5505, lon: -46.6333, size: 1.0, type: 'regionalPresence' },
            { name: "Regional Presence", city:"London", country:"UK", lat: 51.5072, lon: -0.1276, size: 1.0, type: 'regionalPresence' },
            { name: "Regional Presence", city:"Rome", country:"Italy", lat: 41.9028, lon: 12.4964, size: 1.0, type: 'regionalPresence' },
            { name: "Regional Presence", city:"Warsaw", country:"Poland", lat: 52.2297, lon: 21.0122, size: 1.0, type: 'regionalPresence' },
            { name: "Regional Presence", city:"Moscow", country:"Russia", lat: 55.7558, lon: 37.6173, size: 1.0, type: 'regionalPresence' },
            { name: "Regional Presence", city:"Cairo", country:"Egypt", lat: 30.0444, lon: 31.2357, size: 1.0, type: 'regionalPresence' },
            { name: "Regional Presence", city:"Lagos", country:"Nigeria", lat: 6.5244, lon: 3.3792, size: 1.0, type: 'regionalPresence' },
            { name: "Regional Presence", city:"Johannesburg", country:"South Africa", lat: -26.2041, lon: 28.0473, size: 1.0, type: 'regionalPresence' },
            { name: "Regional Presence", city:"Istanbul", country:"Türkiye", lat: 41.0082, lon: 28.9784, size: 1.0, type: 'regionalPresence' },
            { name: "Regional Presence", city:"Riyadh", country:"Saudi Arabia", lat: 24.7136, lon: 46.6753, size: 1.0, type: 'regionalPresence' },
            { name: "Regional Presence", city:"Almaty", country:"Kazakhstan", lat: 43.2220, lon: 76.8512, size: 1.0, type: 'regionalPresence' },
            { name: "Regional Presence", city:"Mumbai", country:"India", lat: 19.0760, lon: 72.8777, size: 1.0, type: 'regionalPresence' },
            { name: "Regional Presence", city:"Delhi", country:"India", lat: 28.7041, lon: 77.1025, size: 1.0, type: 'regionalPresence' },
            { name: "Regional Presence", city:"Bangkok", country:"Thailand", lat: 13.7563, lon: 100.5018, size: 1.0, type: 'regionalPresence' },
            { name: "Regional Presence", city:"Kuala Lumpur", country:"Malaysia", lat: 3.1390, lon: 101.6869, size: 1.0, type: 'regionalPresence' },
            { name: "Regional Presence", city:"Jakarta", country:"Indonesia", lat: -6.2088, lon: 106.8456, size: 1.0, type: 'regionalPresence' },
            { name: "Regional Presence", city:"Seoul", country:"South Korea", lat: 37.5665, lon: 126.9780, size: 1.0, type: 'regionalPresence' },
            { name: "Regional Presence", city:"Tokyo", country:"Japan", lat: 35.6762, lon: 139.6503, size: 1.0, type: 'regionalPresence' },
            { name: "Regional Presence", city:"Sydney", country:"Australia", lat: -33.8688, lon: 151.2093, size: 1.0, type: 'regionalPresence' }
        ];

        const serviceCenterLocations = [
            { name: "ABZ MACHINERY (SINGAPORE) PTE. LTD", city: "7 Temasek Boulevard, #12-07, Suntec Tower One, Singapore 038987", lat: 1.2946, lon: 103.8564, size: 1.2, type: 'serviceCenter' },
            { name: "Sales & After Sales Service Center in Malaysia", city: "No.12 Jalan Ipp Industri Primont Perdana Desa Aman 47000 Sungai", lat: 3.208, lon: 101.576, size: 1.2, type: 'serviceCenter' },
            { name: "Sales & After Sales Service Center in USA", city: "5710 Industrial Blvd Milton, FL 32583", lat: 30.6552, lon: -87.0544, size: 1.2, type: 'serviceCenter' },
            { name: "Sales & After Sales Service Center in Brasil", city: "Rua Dr. Ramos De Azevedo, 159-conjunto 406 -07012-020, centro-Guarulhos-SP- Brasil", lat: -23.465, lon: -46.533, size: 1.2, type: 'serviceCenter' },
            { name: "Sales & After Sales Service Center in Europe", city: "Via Carovella 10, 28066 Galliate (NO) Italy", lat: 45.578, lon: 8.696, size: 1.2, type: 'serviceCenter' },
            { name: "Sales & After Sales Service Center in Japan", city: "#1003, 6-16-10 Honcho, Nakano-Ku, Tokyo, 164-0012, Japan", lat: 35.705, lon: 139.663, size: 1.2, type: 'serviceCenter' },
            { name: "Sales & After Sales Service Center in Korea", city: "22-1, Daegotbuk-ro, Daegot-myun, Gimpo-city, Gyeongki-do, Korea", lat: 37.668, lon: 126.603, size: 1.2, type: 'serviceCenter' }
        ];

        const locations = [...regionalLocations, ...serviceCenterLocations];

        const container = d3.select("#interactive-map");
        if (!container.node()) return; // Don't run if map container not found
        
        const tooltip = d3.select("#map-tooltip");
        const svg = container.append("svg").attr("role", "img").attr("aria-label", "Interactive world map showing company footprint");
        const g = svg.append("g").attr("class","map-layer");
        const countriesG = g.append("g").attr("class","countries");
        const dotsG = g.append("g").attr("class","dots");

        const projection = d3.geoNaturalEarth1();
        const path = d3.geoPath(projection);

        function resizeMap() {
            const rect = container.node().getBoundingClientRect();
            const width = rect.width;
            const height = rect.height;
            svg.attr("viewBox", `0 0 ${width} ${height}`);
            projection.translate([width / 2, height / 2]).scale(Math.min(width, height) / 1.8);
            countriesG.selectAll("path").attr("d", path);
            updateDots();
        }

        function updateDots() {
            const points = locations.map(d => {
                const xy = projection([d.lon, d.lat]);
                return {...d, x: xy ? xy[0] : -9999, y: xy ? xy[1] : -9999};
            });

            dotsG.selectAll("g.site").data(points, d => d.name)
                .join(
                    enter => {
                        const gnode = enter.append("g").attr("class","site").attr("transform", d => `translate(${d.x},${d.y})`);
                        
                        // Pulse ring
                        gnode.append("circle")
                            .attr("class", "map-pulse-ring")
                            .style("stroke", d => d.type === 'serviceCenter' ? '#0099ff' : 'var(--color-brand-accent)')
                            .attr("r", d => d.size * 6);

                        // The main dot
                        gnode.append("circle")
                            .attr("class", "dot")
                            .attr("r", d => 4 * d.size)
                            .attr("fill", d => d.type === 'serviceCenter' ? '#007bff' : 'var(--color-brand-accent)')
                            .on("mouseenter", handleEnter)
                            .on("mousemove", handleMove)
                            .on("mouseleave", handleLeave);
                        return gnode;
                    },
                    update => update.attr("transform", d => `translate(${d.x},${d.y})`)
                );
        }

        function handleEnter(event, d){ 
            tooltip.style("opacity",1)
                   .html(`<b>${d.name}</b><br>${d.city}${d.country ? ', ' + d.country : ''}`); 
        }
        function handleMove(event){
            const mapRect = container.node().getBoundingClientRect();
            tooltip.style("left", `${event.clientX - mapRect.left}px`).style("top", `${event.clientY - mapRect.top}px`);
        }
        function handleLeave(){ tooltip.style("opacity",0); }

        d3.json("https://unpkg.com/world-atlas@2/countries-110m.json").then(worldTopo => {
            const countries = topojson.feature(worldTopo, worldTopo.objects.countries);
            countriesG.selectAll("path").data(countries.features).join("path")
                .attr("class","land").attr("d", path).attr("vector-effect","non-scaling-stroke");
            
            resizeMap();
            window.addEventListener("resize", resizeMap);
            
            svg.call(d3.zoom().scaleExtent([1, 8]).on("zoom", (event) => {
                g.attr("transform", event.transform);
            }));
        }).catch(err => {
            console.error("Failed to load world topology:", err);
            container.append("div").style("padding","20px").text("Unable to load map data.");
        });
    });
    </script>
    <!-- ** END: New Interactive Map Script ** -->
    
    <!-- ** START: New RFQ Form Script ** -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const managers = {
                sefa: {
                    name: "Sefa", region: "Sales Manager - Türkiye & Middle East", languages: ["Turkish", "English", "Central Asian Languages"], photo: "media/sefa.png", email: "sefa@abz-sh.com", whatsapp: "8618964994018", displayPhone: "+86 189 6499 4018", wechat: "ABZ-Sefa", wechatQR: "media/sefa-wechat-orange.svg", whatsappQR: "media/sefa-whatsapp-orange.svg"
                },
                amanda: {
                    name: "Amanda", region: "Sales Manager - North & South America", languages: ["English", "Chinese"], photo: "media/amanda.png", email: "amanda@abz-sh.com", whatsapp: "8613921005598", displayPhone: "+86 139 2100 5598", wechat: "ABZ-Amanda", wechatQR: "media/amanda-wechat-orange.svg", whatsappQR: "media/amanda-whatsapp-orange.svg"
                },
                anika: {
                    name: "Anika", region: "Sales Manager - South Asia", languages: ["Bangla", "English", "Chinese", "Hindi"], photo: "media/anika.png", email: "ltasnimaanika@abz-sh.com", whatsapp: "8619821686327", displayPhone: "+86 198 2168 6327", wechat: "AnikaABZ", wechatQR: "media/anika-wechat-orange.svg", whatsappQR: "media/anika-whatsapp-orange.svg"
                },
                caleb: {
                    name: "Caleb", region: "Sales Manager - Africa", languages: ["English", "Chinese"], photo: "media/caleb.png", email: "caleb@abz-sh.com", whatsapp: "8613813501217", displayPhone: "+86 138 1350 1217", wechat: "wxid_fme740482nbm22", wechatQR: "media/caleb-wechat-orange.svg", whatsappQR: "media/caleb-whatsapp-orange.svg"
                },
                emily: {
                    name: "Emily", region: "Sales Manager - Europe, South Korea & Southeast Asia", languages: ["English", "Chinese"], photo: "media/emily.png", email: "emily@abz-sh.com", whatsapp: "447700900123", displayPhone: "+44 7700 900123", wechat: "abz-best", wechatQR: "media/emily-wechat-orange.svg", whatsappQR: "media/emily-whatsapp-orange.svg"
                }
            };

            // Dynamically generate all RFQ forms on page load
            const rfqFormsContainer = document.getElementById('rfq-forms-container');
            // FIX: Build an HTML string of all forms first, then set innerHTML once.
            let allFormsHTML = '';
            for (const key in managers) {
                const manager = managers[key];
                // The createRfqForm function is globally available from the previous script block
                allFormsHTML += createRfqForm(key, manager.email, manager.name);
            }
            rfqFormsContainer.innerHTML = allFormsHTML;


            // --- Notification Handler ---
            function showNotification(message, type = 'success') {
                const notification = document.getElementById('notification');
                notification.textContent = message;
                notification.className = 'notification'; // Reset classes
                notification.classList.add(type, 'show');
                setTimeout(() => notification.classList.remove('show'), 4000);
            }

            // --- AJAX Form Submission Handler ---
            async function handleFormSubmit(event) {
                event.preventDefault();
                const form = event.target;
                const submitButton = form.querySelector('.btn-submit');
                
                submitButton.disabled = true;
                submitButton.textContent = 'Sending...';
                showNotification('Sending your request...', 'sending');

                const formData = new FormData(form);

                try {
                    const response = await fetch(form.action, {
                        method: 'POST',
                        body: formData,
                        headers: { 'Accept': 'application/json' }
                    });

                    if (response.ok) {
                        showNotification('Your RFQ has been sent successfully!', 'success');
                        form.reset();
                    } else {
                        const data = await response.json();
                        throw new Error(data.message || 'An unknown error occurred.');
                    }
                } catch (error) {
                    console.error('Submission error:', error);
                    showNotification(`Error: ${error.message}. Please try again.`, 'error');
                } finally {
                    submitButton.disabled = false;
                    // Re-translate the button text after submission
                    const currentLang = document.documentElement.lang || 'en';
                    submitButton.textContent = window.pageTranslations[currentLang].formSubmitBtn || window.pageTranslations.en.formSubmitBtn;
                }
            }

            // --- Dynamic Subject Line ---
            function updateSubject(event) {
                const companyName = event.target.value;
                const form = event.target.closest('form');
                const subjectInput = form.querySelector('input[name="subject"]');
                subjectInput.value = companyName ? `New ABZ RFQ from ${companyName}` : 'New ABZ Machinery RFQ';
            }
            
            // Attach listeners to all newly created forms and inputs
            document.querySelectorAll('#rfq-forms-container .rfq-form').forEach(form => {
                form.addEventListener('submit', handleFormSubmit);
                const companyInput = form.querySelector('.company-name-input');
                if (companyInput) {
                    companyInput.addEventListener('input', updateSubject);
                }
            });


            // --- UI LOGIC FOR MANAGER SELECTION ---

            function getContactHTML(manager, managerKey) {
                return `
                    <h4 class="contact-title">Contact ${manager.name} Directly</h4>
                    <ul class="contact-list">
                        <li class="contact-item"><div class="contact-info-main"><i class="fas fa-envelope"></i><a href="mailto:${manager.email}">${manager.email}</a></div></li>
                        <li class="contact-item">
                            <div class="contact-info-main"><i class="fab fa-whatsapp"></i><a href="https://wa.me/${manager.whatsapp}" target="_blank">Chat on WhatsApp</a><span>${manager.displayPhone}</span></div>
                            <div class="contact-actions"><i class="fas fa-qrcode qr-icon" title="Show WhatsApp QR Code" data-qr-type="WhatsApp" data-qr-src="${manager.whatsappQR}" data-qr-info="${manager.displayPhone}"></i></div>
                        </li>
                        <li class="contact-item">
                            <div class="contact-info-main"><i class="fab fa-weixin"></i><span>ID: ${manager.wechat}</span></div>
                            <div class="contact-actions"><i class="fas fa-qrcode qr-icon" title="Show WeChat QR Code" data-qr-type="WeChat" data-qr-src="${manager.wechatQR}" data-qr-info="ID: ${manager.wechat}"></i></div>
                        </li>
                        <li class="contact-item">
                            <div class="contact-info-main"><i class="fas fa-address-card"></i><span>Save Contact Info</span></div>
                            <div class="contact-actions"><button class="btn-add-contact" data-manager-key="${managerKey}"><i class="fas fa-download"></i> Add to Contacts</button></div>
                        </li>
                    </ul>`;
            }

            function getManagerBasicInfoHTML(manager) {
                const languagesHTML = manager.languages.map(lang => `<span class="language-badge">${lang}</span>`).join('');
                return `<h3 class="manager-name">${manager.name}</h3><p class="manager-region">${manager.region}</p><div class="manager-languages">${languagesHTML}</div>`;
            }

            function generateVCard(manager) {
                return `BEGIN:VCARD\nVERSION:3.0\nN:;${manager.name};;;\nFN:${manager.name} (ABZ)\nORG:ABZ\nTITLE:${manager.region}\nTEL;TYPE=CELL,VOICE;waid=${manager.whatsapp}:+${manager.whatsapp}\nEMAIL:${manager.email}\nEND:VCARD`;
            }

            function downloadVCard(managerKey) {
                const manager = managers[managerKey];
                if (!manager) return;
                const blob = new Blob([generateVCard(manager)], { type: "text/vcard;charset=utf-8" });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = `${manager.name}_ABZ.vcf`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                URL.revokeObjectURL(url);
            }

            function showManagerRfqForm(managerKey) {
                document.querySelectorAll('#rfq-forms-container .rfq-form').forEach(form => form.classList.remove('active'));
                const managerForm = document.getElementById(`rfq-form-${managerKey}`);
                if (managerForm) managerForm.classList.add('active');
            }

            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.tab-btn').forEach(tab => tab.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                    this.classList.add('active');
                    document.getElementById(this.dataset.tab).classList.add('active');
                });
            });

            document.querySelectorAll('.manager-card').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('.manager-card').forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                    const managerKey = this.dataset.manager;
                    const manager = managers[managerKey];
                    const contactContainer = document.getElementById('contact-details-design1');
                    contactContainer.innerHTML = getContactHTML(manager, managerKey);
                    contactContainer.classList.add('active');
                    showManagerRfqForm(managerKey);
                });
            });

            function handleSelection(selectedValue) {
                const containers = {
                    2: document.getElementById('manager-display-container-design2'),
                    3: document.getElementById('manager-display-container-design3')
                };
                
                Object.values(containers).forEach(c => c.classList.remove('active'));
                document.querySelectorAll('#rfq-forms-container .rfq-form').forEach(form => form.classList.remove('active'));
                
                if (selectedValue) {
                    let managerKey;
                    switch (selectedValue) {
                        case 'americas': managerKey = 'amanda'; break;
                        case 'south-asia': managerKey = 'anika'; break;
                        case 'africa': managerKey = 'caleb'; break;
                        case 'europe': managerKey = 'emily'; break;
                        case 'turkiye-middle-east': managerKey = 'sefa'; break;
                    }
                    const manager = managers[managerKey];
                    const activeTabDesignNumber = document.querySelector('.tab-btn.active').dataset.tab.slice(-1);
                    const displayContainer = containers[activeTabDesignNumber];
                    
                    if(displayContainer) {
                        displayContainer.querySelector('img').src = manager.photo;
                        displayContainer.querySelector('.manager-info-details').innerHTML = getManagerBasicInfoHTML(manager);
                        displayContainer.querySelector('.manager-contact-block').innerHTML = getContactHTML(manager, managerKey);
                        displayContainer.classList.add('active');
                    }
                    showManagerRfqForm(managerKey);
                }
            }

            document.getElementById('region-select').addEventListener('change', function() { handleSelection(this.value); });
            document.getElementById('country-select').addEventListener('change', function() { handleSelection(this.value); });
            
            document.body.addEventListener('click', function(e) {
                if (e.target.matches('.btn-add-contact, .btn-add-contact *')) {
                    const button = e.target.closest('.btn-add-contact');
                    downloadVCard(button.dataset.managerKey);
                }
            });

            // Make translations accessible globally for the submit button text update
            window.pageTranslations = { en: {formSubmitBtn: "Send Quick RFQ"}, es: {formSubmitBtn: "Enviar Cotización Rápida"}, de: {formSubmitBtn: "Schnellanfrage senden"}, tr: {formSubmitBtn: "Hızlı Teklif Gönder"}, pt: {formSubmitBtn: "Enviar Cotação Rápida"}, ar: {formSubmitBtn: "إرسال طلب سريع"}, bn: {formSubmitBtn: "দ্রুত RFQ পাঠান"} };

        });
    </script>
    <!-- ** END: New RFQ Form Script ** -->

</body>
</html>